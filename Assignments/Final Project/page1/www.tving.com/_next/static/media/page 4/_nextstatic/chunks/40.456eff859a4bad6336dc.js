"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{42038:function(e,t,n){var i,r,o=n(56168);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}t.Z=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:12.002,height:12.002,viewBox:"0 0 12.002 12.002"},e),i||(i=o.createElement("defs",null,o.createElement("style",null,".icon_x_svg__cls-2{fill:#fff}"))),r||(r=o.createElement("g",{id:"icon_x_svg__X",opacity:.5,transform:"translate(.303 .303)"},o.createElement("path",{id:"icon_x_svg__\\uC120_84",d:"M10.956 11.5a.544.544 0 01-.386-.16L-.34.431A.546.546 0 01.431-.34l10.911 10.911a.546.546 0 01-.386.931z",className:"icon_x_svg__cls-2",transform:"translate(.197 .197)"}),o.createElement("path",{id:"icon_x_svg__\\uC120_105",d:"M.046 11.5a.544.544 0 01-.386-.16.546.546 0 010-.772L10.571-.34a.546.546 0 01.772.772L.431 11.342a.544.544 0 01-.385.158z",className:"icon_x_svg__cls-2",transform:"translate(.197 .197)"}))))}},14123:function(e,t,n){var i,r,o,a=n(56168);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}t.Z=function(e){return a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:64,height:64,viewBox:"0 0 64 64"},e),i||(i=a.createElement("defs",null,a.createElement("filter",{id:"sc-btn-player-pause_svg__a",x:14,y:13,width:36,height:37,filterUnits:"userSpaceOnUse"},a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:2,result:"blur"}),a.createElement("feFlood",{floodOpacity:.231}),a.createElement("feComposite",{operator:"in",in2:"blur"}),a.createElement("feComposite",{in:"SourceGraphic"})))),r||(r=a.createElement("path",{"data-name":"btn_player_controller_pause background",d:"M0 0h64v64H0z",fill:"none"})),o||(o=a.createElement("g",{filter:"url(#sc-btn-player-pause_svg__a)"},a.createElement("path",{"data-name":"Combined Shape",d:"M36.5 44V19H44v25zM20 44V19h7.5v25z",fill:"#fff"}))))}},86975:function(e,t,n){var i,r,o,a=n(56168);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}t.Z=function(e){return a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:64,height:64,viewBox:"0 0 64 64"},e),i||(i=a.createElement("defs",null,a.createElement("filter",{id:"sc-btn-player-play_svg__a",x:18,y:11,width:33.814,height:41.803,filterUnits:"userSpaceOnUse"},a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:2,result:"blur"}),a.createElement("feFlood",{floodOpacity:.231}),a.createElement("feComposite",{operator:"in",in2:"blur"}),a.createElement("feComposite",{in:"SourceGraphic"})))),r||(r=a.createElement("path",{"data-name":"btn_player_controller_play background",d:"M0 0h64v64H0z",fill:"none"})),o||(o=a.createElement("g",{filter:"url(#sc-btn-player-play_svg__a)"},a.createElement("path",{"data-name":"Path 2",d:"M24.003 17.003l21.814 14.9-21.814 14.9z",fill:"#fff",opacity:.95}))))}},27438:function(e,t,n){var i=n(15667),r=(n(56168),n(79902)),o=n(78398);var a={name:"198ozdj",styles:"transition:opacity 0.2s;opacity:1"},s=(0,i.Z)("div",{target:"e18hyje70"})("position:absolute;z-index:999;pointer-events:none;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;opacity:0;transition:opacity 0.05s;",(function(e){return e.isLoading?a:""})," &.small{height:33%;transform:scale(0.6);}&.small2{transform:scale(0.6);}svg{position:absolute;opacity:0;path,rect{fill:",r.O.point,";}}.loading-2{$duration:0.7s;width:2rem;height:2rem;@include mobile{transform:scale(0.8);}.spinner *{box-sizing:border-box;}.spinner{display:inline-block;animation-name:anim-spinner;animation-duration:0.7s;animation-iteration-count:infinite;animation-timing-function:linear;.circle{width:2rem;height:1rem;overflow:hidden;}.circle-inner{transform:rotate(45deg);border-radius:50%;border:0.3rem solid ",r.O.point,";border-right:0.3rem solid transparent;border-bottom:0.3rem solid transparent;width:100%;height:200%;animation-name:anim-circle-1;animation-duration:0.7s;animation-iteration-count:infinite;animation-direction:alternate;animation-timing-function:cubic-bezier(0.25, 0.1, 0.5, 1);}.circle-2{transform:rotate(180deg);& .circle-inner{animation-name:anim-circle-2;}}@keyframes anim-circle-1{from{transform:rotate(60deg);}to{transform:rotate(205deg);}}@keyframes anim-circle-2{from{transform:rotate(30deg);}to{transform:rotate(-115deg);}}@keyframes anim-spinner{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}}}");t.Z=function(e){var t=e.isLoading,n=void 0!==t&&t;return(0,o.tZ)(s,{isLoading:n,children:(0,o.BX)("div",{className:"loading-2",children:[(0,o.BX)("div",{className:"spinner",children:[(0,o.tZ)("div",{className:"circle circle-1",children:(0,o.tZ)("div",{className:"circle-inner"})}),(0,o.tZ)("div",{className:"circle circle-2",children:(0,o.tZ)("div",{className:"circle-inner"})})]}),(0,o.tZ)("div",{})]})})}},20040:function(e,t,n){n.r(t),n.d(t,{default:function(){return yn}});var i=n(18497),r=n(23641),o=n(41807),a=n(60288),s=n(64847),l=n.n(s),c=n(56168),u=n(805),d=n.n(u),m=n(24750),f=n(54425),p=n.n(f),h=n(75332),v=n(53585),g=n(28748),y=n(15667),b=n(42038),w=n(56886),_=n(91937),Z=n(78398);var x={name:"eivff4",styles:"display:none"},k=(0,y.Z)("div",{target:"e1d9bpmw0"})("position:absolute;z-index:999;bottom:8rem;left:50%;transform:translate(-50%, 0);display:inline-flex;align-items:center;justify-content:center;padding:1.2em 3em 1.2em 1em;font-size:1.25rem;color:rgba(150, 150, 150, 1);background-color:rgba(33, 33, 33, 0.96);border-radius:4px;",(function(e){return e.isSmall&&x})," p{display:flex;align-items:center;white-space:nowrap;.line{display:inline-block;@media ",w.U.mobile,"{display:block;line-height:1.5;}}span{padding-left:0.5em;color:rgba(237, 237, 237, 1);}}.noti-link{position:relative;border:1px solid rgba(100, 100, 100, 0.5);border-radius:3px;margin:0 0 0 1em;padding:0.3em 1.5em 0.3em 0.8em;font-size:rem(12px);color:rgba(150, 150, 150, 1);transition:all 0.1s;&:after{content:'';position:absolute;top:50%;right:0.9em;width:0.5rem;height:0.5rem;margin-top:-0.5px;border-top:1px solid rgba(130, 130, 130, 1);border-right:1px solid rgba(130, 130, 130, 1);display:inline-block;transform:translate(0, -50%) rotate(45deg);}&:hover{color:rgba(237, 237, 237, 1);border-color:rgba(150, 150, 150, 0.5);&:after{border-top-color:rgba(222, 222, 222, 1);border-right-color:rgba(222, 222, 222, 1);}}}.close-btn{position:absolute;right:1em;cursor:pointer;span{svg{transition:opacity 0.1s;display:block;opacity:0.3;}}&:hover{svg{opacity:0.8;}}}"),E=function(e){var t=(0,c.useState)(!1),n=t[0],i=t[1],r=(0,v.Z)("tving-player-noti-m1"),o=(0,a.Z)(r,2),s=o[0],l=o[1],u=e||{},d=u.streamData,m=u.isSmall,f=d||{},p=f.mediaType,h=f.isDrm,g=f.isNotiM1Mac;if("movie"!==p)return null;if(!g)return null;if(!h)return null;if(!_.Q5||!_.G6)return null;if(n||"1"===s)return null;return(0,Z.BX)(k,{isSmall:m,children:[(0,Z.BX)("p",{children:[(0,Z.BX)("div",{children:[(0,Z.BX)("div",{className:"line",children:[(0,Z.tZ)("span",{children:"Safari \ube0c\ub77c\uc6b0\uc800"}),"\uc5d0\uc11c \uc601\uc0c1 \uc7ac\uc0dd\uc5d0 \ubb38\uc81c\uac00 \uc788\uc73c\uc2e0\uac00\uc694?"]}),(0,Z.tZ)("span",{children:"\ud06c\ub86c \ube0c\ub77c\uc6b0\uc800"}),"\ub85c \uc6d0\ud65c\ud558\uac8c \ud2f0\ube59\uc744 \uc774\uc6a9\ud574\ubcf4\uc138\uc694."]}),(0,Z.tZ)("a",{href:"https://www.google.com/intl/ko/chrome/",target:"_blank",className:"noti-link",rel:"noreferrer",title:"\ud06c\ub86c \ub2e4\uc6b4\ub85c\ub4dc",children:"\ud06c\ub86c \ub2e4\uc6b4\ub85c\ub4dc"})]}),(0,Z.tZ)("button",{type:"button",className:"close-btn",title:"\ub2eb\uae30",onClick:function(){i(!0),l("1")},children:(0,Z.tZ)(b.Z,{})})]})};var C={name:"1e7r85k",styles:"display:flex;align-items:center;padding:1.5rem 2rem;background-color:rgba(10, 10, 10, 0.95);border-radius:0.25rem;box-shadow:0 2px 8px rgb(0 0 0 / 33%);outline:none;font-weight:500;font-size:1.333rem;color:white;em{color:#fcc800;}"},P={name:"1752vgx",styles:"right:1.5rem;bottom:1rem"},S={name:"1cllf5z",styles:"padding:1rem 1.2rem;font-size:1rem"},O=(0,y.Z)("div",{target:"edvvj413"})("position:relative;display:inline-block;pointer-events:visible;border-radius:2px;button{",C," cursor:pointer;",(function(e){return e.isSmall?S:""}),";}"),T=(0,y.Z)("div",{target:"edvvj412"})("position:absolute;right:2rem;bottom:2rem;pointer-events:visible;border-radius:2px;",(function(e){return e.isSmall?P:""})," button{",C," cursor:pointer;",(function(e){return e.isSmall?S:""}),";}"),N=(0,y.Z)("div",{target:"edvvj411"})("position:absolute;top:",(function(e){return e.isSmall?"5rem":"8rem"}),";left:2rem;pointer-events:visible;z-index:100;>button{",C," cursor:pointer;",(function(e){return e.isSmall?S:""})," margin-bottom:1rem;}>span{",C," ",(function(e){return e.isSmall?S:""})," margin-bottom:1rem;}"),A=(0,y.Z)("div",{target:"edvvj410"})({name:"1o5op44",styles:"@media (max-width: 600px){display:none;}"});var M=(0,y.Z)("div",{target:"e1ucgcfn2"})("position:absolute;width:100%;left:2rem;bottom:",(function(e){return e.isSmall?"6rem":"8rem"}),";"),j=(0,y.Z)("div",{target:"e1ucgcfn1"})({name:"1ylqmul",styles:"position:absolute;width:100%;bottom:6rem"}),L=(0,y.Z)("div",{target:"e1ucgcfn0"})({name:"c7a47x",styles:"position:absolute;width:100%;height:100%;pointer-events:none;img{position:relative;width:100%;height:100%;object-fit:contain;}&:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0, 0, 0, 0.5);}"}),D=function(e){var t=e.stats,n=e.setStats,i=e.toggle,r=e.isLive,o=e.isQvod,s=e.isTvingTalk,l=e.isActiveTalk,c=e.setIsActiveTalk,u=e.broadcastStartTime,d=e.broadcastEndTime,m=e.isMoreContent,f=e.setIsMoreContent,p=e.isShowEpisodeList,v=e.isShowRecommendList,y=e.setIsShowEpisodeList,b=e.setIsShowRecommendList,w=e.streamData,_=e.isControlHide,x=e.isAnotherPage,k=e.isFullscreen,C=e.dataNextEpisode,P=e.actionReplay,S=e.actionHideControl,O=(0,h.useRouter)(),T=(0,g.db)(),A=(0,a.Z)(T,1)[0],D=(0,g.jJ)(),z=(0,a.Z)(D,1)[0],B=w.thumbnail,R=w.mediaType,H=w.mediaCode,X=t.currentTime,I=t.duration,Y=t.muted,V=w.isPreview,q=(A||{}).player,F=z||{},Q=F.isAdsPlaying,J=F.offset,$=(F.skipFn,F.adsIdx),ee=F.adsTotal,ne=function(){return x&&!k},ie=function(){return Math.ceil(J-X)};return(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(E,{streamData:w,isSmall:x}),(0,Z.BX)(N,{isMiniplayer:ne(),isSmall:x,children:[V&&(0,Z.tZ)("span",{children:"3\ubd84 \ubbf8\ub9ac\ubcf4\uae30 \uc911 \uc785\ub2c8\ub2e4."}),Y&&(0,Z.tZ)(ot,{})]}),(0,Z.tZ)(et,{stats:t,isControlHide:_,isSmall:x}),t.ended&&(0,Z.tZ)(L,{children:(0,Z.tZ)("img",{src:B,alt:""})}),(0,Z.tZ)(Je,{stats:t,isControlHide:_,isSmall:x,actionReplay:P}),(0,Z.tZ)("div",{className:"cjp__ui-control cjp__ui-control-bg"}),(0,Z.BX)("div",{className:"cjp__ui-ad",children:[(0,Z.tZ)("div",{className:"ad-top"}),(0,Z.tZ)("div",{className:"ca-bottom",children:(0,Z.BX)("div",{className:"ad-skipinfo",children:[(0,Z.BX)("div",{className:"ad-total-info",children:["\uad11\uace0 (",$+1,"/",ee,")"]}),(0,Z.BX)("div",{className:"info",children:[J>-1&&ie()>0&&(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)("em",{children:ie()}),"\ucd08 \ud6c4 SKIP"]}),-1===J&&(0,Z.tZ)("em",{children:"\uad11\uace0 \uc911"})]}),J>-1&&ie()<=0&&(0,Z.BX)("button",{type:"button",className:"ad-skip-btn",onClick:function(){q.skipAd()},children:[(0,Z.tZ)("span",{children:(0,Z.tZ)("em",{children:"SKIP"})}),(0,Z.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[(0,Z.tZ)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),(0,Z.tZ)("path",{fill:"none",d:"M0 0h24v24H0V0z"})]})]})]})})]}),(0,Z.BX)("div",{className:"cjp__ui-control cjp__ui-hover-hide-block",children:[!V&&(0,Z.tZ)(K,{stats:t,actionReplay:P}),!V&&!ne()&&!r()&&(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(G,{}),(0,Z.tZ)(te,{})]}),(0,Z.tZ)(W,{muted:Y}),(0,Z.BX)("div",{className:"con__time-new",children:[(0,Z.tZ)("div",{className:"currentTime",children:t.viewCurrentTime}),(0,Z.tZ)("div",{className:"duration",children:t.viewDuration})]}),(0,Z.tZ)("div",{className:"con__space-center"}),(0,Z.tZ)(De,{streamData:w,stats:t,broadcastStartTime:u,broadcastEndTime:d,isLive:r}),!V&&!ne()&&(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(pe,{setStats:n,actionHideControl:S}),!r()&&!o&&(0,Z.tZ)(ge,{actionHideControl:S}),"clip"!==R&&(0,Z.tZ)(we,{mediaType:R,mediaCode:H,programCode:w.programCode,frequency:w.frequency})]}),!V&&!ne()&&!r()&&"movie"!==R&&"clip"!==R&&(0,Z.tZ)("div",{children:(0,Z.tZ)("button",{type:"button","aria-label":"\ud68c\ucc28 \ubaa9\ub85d",onClick:function(){v?(y(!0),b(!1)):(f(!m),y(!m),b(!1))},children:(0,Z.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[(0,Z.tZ)("path",{style:{fill:"none",opacity:".502"},d:"M0 0h24v24H0z"}),(0,Z.tZ)("path",{d:"M13 20H-3V8h2v10h14v2zm4-4H1V4h2v10h14v2zm4-4H5V0h16v12zM7 2v8h12V2z",transform:"rotate(180 10.5 11)",style:{fill:"#fff",opacity:".961"}})]})})}),!V&&!ne()&&r()&&(0,Z.tZ)(ae,{streamData:w,setIsActiveTalk:c}),!V&&!ne()&&s()&&(0,Z.tZ)(U,{isActive:l,setIsActiveTalk:c}),"clip"!==R&&!ne()&&(0,Z.tZ)("div",{children:(0,Z.tZ)("button",{type:"button",className:"con__rcm","aria-label":"\ucd94\ucc9c \ubaa9\ub85d",onClick:function(){p?(y(!1),b(!0)):(f(!m),y(!1),b(!m))},children:(0,Z.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",children:(0,Z.tZ)("path",{fill:"#fff",d:"M1428 777h-5l5-8v4h5l-5 8zm-6 2h-9v-2h9v2zm0-5h-9v-2h9v2zm10-5h-3.084a1.484 1.484 0 0 0 .085-.5 1.5 1.5 0 0 0-1.5-1.5h4.5v2zm-5.916 0H1413v-2h14.493a1.5 1.5 0 0 0-1.408 2zm5.916-5h-19v-2h19v2z",opacity:"0.961",transform:"translate(-1410 -758)"})})})}),!ne()&&!V&&(0,Z.BX)("div",{children:[k&&(0,Z.tZ)("button",{type:"button",className:"con__fullscreen","aria-label":"\uc804\uccb4\ud654\uba74 \uc885\ub8cc",onClick:function(){return i()},children:(0,Z.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",children:(0,Z.tZ)("path",{fill:"#fff",d:"M1525 779v-6h8v2h-6v4zm-7 0v-4h-6v-2h8v6zm9-11h-2v-6h2v4h6v2zm-9 0h-6v-2h6v-4h2v6z",opacity:"0.961",transform:"translate(-1510 -758)"})})}),!k&&(0,Z.tZ)("button",{type:"button",className:"con__fullscreen","aria-label":"\uc804\uccb4\ud654\uba74",onClick:function(){return i()},children:(0,Z.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",children:(0,Z.tZ)("path",{fill:"#fff",d:"M1531 779h-6v-2h6v-4h2v6zm-17 0h-2v-6h2v4h6v2zm17-11v-4h-6v-2h8v6zm-19 0v-6h8v2h-6v4z",opacity:"0.961",transform:"translate(-1510 -758)"})})})]}),ne()&&(0,Z.tZ)("button",{type:"button",className:"con__fullscreen","aria-label":"\ud655\uc7a5",onClick:function(){O.push(A.pathname)},children:(0,Z.BX)("svg",{"data-name":"btn_ expand",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[(0,Z.tZ)("path",{style:{fill:"none",opacity:".502"},d:"M0 0h24v24H0z"}),(0,Z.tZ)("path",{d:"M1516 781h-2v-9h2v7h16v-16h-7v-2h9v20zm0-16.586V767h-2v-6h6v2h-2.586l10.631 10.631-1.414 1.415z",transform:"translate(-1512 -759)",style:{fill:"#fff",opacity:".961"}})]})})]}),(0,Z.tZ)(M,{isSmall:x,children:(0,Z.tZ)(lt,{stats:t,isAnotherPage:x})}),(0,Z.BX)(j,{children:[function(){var e=!1,t=60;return t>=I&&(t=Math.floor(I/3)),C&&X>I-t&&I>0&&(e=!0),e}()&&!ne()&&(0,Z.tZ)(Ye,{data:C}),!V&&!Q&&(0,Z.tZ)(Be,{isAnotherPage:x,stats:t,skipTime:w.skipTime,currentTime:t.currentTime})]})]})};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=(0,y.Z)("g",{target:"e185ww1y4"})("display:block;transition:all 0.2s;opacity:",(function(e){return e.localVolume>0?1:0}),";"),H=(0,y.Z)("g",{target:"e185ww1y3"})("display:block;transition:all 0.2s;opacity:",(function(e){return e.localVolume>.3?1:0}),";"),X=(0,y.Z)("g",{target:"e185ww1y2"})("display:block;transition:all 0.2s;opacity:",(function(e){return e.localVolume>.6?1:0}),";"),I=(0,y.Z)("g",{target:"e185ww1y1"})("display:block;transition:all 0.2s;opacity:",(function(e){return e.localVolume>0?0:1}),";"),Y=(0,y.Z)("div",{target:"e185ww1y0"})("width:",(function(e){return 100*e.localVolume}),"%;"),V={name:"13oo69k",styles:"backface-visibility:hidden;background-color:rgba(255,255,255,0.01)"},W=function(e){var t,n=e.muted,i=(0,c.useRef)(),r=(0,c.useState)(!1),o=r[0],s=r[1],l=(0,c.useState)(1),u=l[0],d=l[1],m=(0,g.db)(),f=(0,a.Z)(m,2),p=f[0],h=f[1],v=p.player;(0,c.useEffect)((function(){var e,t,n;(null!==(e=p.player)&&void 0!==e&&e.volume||0===(null===(t=p.player)||void 0===t?void 0:t.volume))&&d(null===(n=p.player)||void 0===n?void 0:n.volume)}),[p.player,null===(t=p.player)||void 0===t?void 0:t.volume]);var y=function(e){n&&(v.muted=!1),d(e),p.volumeChange(e)},b=function e(t){s(!1),window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",e)},w=function(e){var t=i.current,n=t.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,o=(e.pageX-(n.left+r))/t.offsetWidth;o=Math.min(Math.max(0,o),1),y(o)},_=function(){return n?0:u};return(0,Z.BX)("div",{className:function(){var e="con__volume";return o&&(e+=" draging"),e}(),children:[(0,Z.tZ)("button",{type:"button","aria-label":function(){var e;return 0===(null===(e=p.player)||void 0===e?void 0:e.volume)||n?"\uc74c\uc18c\uac70 \ud574\uc81c":"\uc74c\uc18c\uac70"}(),onClick:function(){h((function(e){return B(B({},e),{},{isViewActionInfo:!0,isVolumeChange:!0,isSeekPrev:!1,isSeekNext:!1,isPlayToggle:!1})})),n?v.muted=!1:v.volume>0?(h((function(e){return B(B({},e),{},{prevVolume:v.volume})})),y(0)):y(p.prevVolume)},children:(0,Z.tZ)("svg",{className:"cjp-btn__volume volume-small volume-on",width:"24",height:"20",viewBox:"0 0 24 20",css:V,children:(0,Z.BX)("g",{id:"g_109",transform:"translate(-524 -500)",children:[(0,Z.tZ)("g",{transform:"translate(524 500)",children:(0,Z.tZ)("path",{d:"M536 765h5l7-5v20l-7-5h-5z",transform:"translate(-536 -760)"})}),(0,Z.tZ)(R,{transform:"translate(537.478 506.856)",localVolume:_(),children:(0,Z.tZ)("path",{className:"st0",d:"M549.616 768.007a2.6 2.6 0 0 1-.138 4.561l.7 1.1a3.9 3.9 0 0 0 .046-6.813z",transform:"translate(-549.478 -766.856)"})}),(0,Z.tZ)(H,{transform:"translate(539.574 504.346)",localVolume:_(),children:(0,Z.tZ)("path",{className:"st1",d:"M551.6 775.051a5.2 5.2 0 0 0-.025-9.614l.749-1.092a6.5 6.5 0 0 1 .041 11.788z",transform:"translate(-551.574 -764.346)"})}),(0,Z.tZ)(X,{transform:"translate(542.406 502.124)",localVolume:_(),children:(0,Z.tZ)("path",{className:"st2",d:"M554.409 777.218a7.8 7.8 0 0 0 0-13.938l.6-1.156a9.1 9.1 0 0 1 .07 16.215z",transform:"translate(-554.406 -762.124)"})}),(0,Z.tZ)(I,{className:"volume-muted",id:"volume_mute",transform:"translate(538 506)",localVolume:_(),children:(0,Z.tZ)("path",{id:"icon_mute",d:"M554.291 890.991l-3.393 3.393-.99-.99L553.3 890l-3.387-3.387.99-.989 3.387 3.387 3.4-3.4.99.99-3.4 3.4 3.4 3.4-.989.99z",className:"cls-2",transform:"translate(-549.908 -885.616)"})})]})})}),(0,Z.tZ)("div",{className:"con__volume--layer-horiz",children:(0,Z.tZ)("div",{className:"volume-bar",ref:i,"aria-hidden":"true",onMouseDown:function(e){s(!0),w(e),window.addEventListener("mousemove",w,!1),window.addEventListener("mouseup",b,!1)},onMouseUp:b,children:(0,Z.tZ)(Y,{className:"volume-per",localVolume:_(),children:(0,Z.tZ)("div",{className:"volume-pointer"})})})})]})};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(e){var t=e.stats,n=void 0===t?{}:t,i=e.actionReplay,r=(0,g.db)(),o=(0,a.Z)(r,2),s=o[0],l=o[1];return(0,Z.tZ)("div",{children:(0,Z.BX)("button",{type:"button",className:"con__togglePlay","aria-label":function(){var e="\uc7ac\uc0dd";return!n.paused&&n.playing?e="\uc77c\uc2dc\uc815\uc9c0":n.ended&&(e="\ub2e4\uc2dc\ubcf4\uae30"),e}(),onClick:function(){n.ended?i():s.player.togglePlay(),l((function(e){return F(F({},e),{},{isViewActionInfo:!0,isVolumeChange:!1,isSeekPrev:!1,isSeekNext:!1,isPlayToggle:!0,isPlayPause:!n.paused&&n.playing})}))},children:[n.ended&&(0,Z.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25.215",viewBox:"0 0 25 25.215",children:(0,Z.tZ)("path",{fill:"#fff",stroke:"rgba(0,0,0,0)",strokeMiterlimit:"10",d:"M4051.961 1523a11.534 11.534 0 0 1-3.961-6.519l1.861-.931a9.527 9.527 0 1 0 3.37-8.776l2.419.648-.518 1.931-3.864-1.035-1.932-.518 1.553-5.795 1.932.517-.685 2.555a11.513 11.513 0 0 1 1.858-1.2 11.5 11.5 0 1 1 5.26 21.729 11.526 11.526 0 0 1-7.293-2.606zm5.815-12.391l5.344 3.5-5.344 3.5z",transform:"translate(0 .215) translate(-4046.745 -1501.603)"})}),!n.ended&&(n.playing?(0,Z.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",children:(0,Z.tZ)("path",{fill:"#fff",d:"M401 820v-19h6v19zm-13 0v-19h6v19z",transform:"translate(-385 -798)"})}):(0,Z.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",children:(0,Z.tZ)("path",{id:"btn-play",fill:"#fff",d:"M407 850.5L391 861v-21z",transform:"translate(-385 -838)"})}))]})})},U=function(e){var t=e.isActive,n=e.setIsActiveTalk,i=(0,g.db)(),r=((0,a.Z)(i,1)[0]||{}).isPlayingTimeshift,o=void 0!==r&&r;return(0,Z.tZ)(Z.HY,{children:(0,Z.tZ)("button",{type:"button",className:function(){var e="con__talk";return t&&(e+=" is-active"),o&&(e+=" is-dimm"),e}(),"aria-label":"\ud2f0\ube59 \ud1a1",onClick:function(){return n(!t)},children:(0,Z.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",children:(0,Z.tZ)("path",{fill:"#fff",d:"M1372.5 782l-4-4h-6.51v-17h21v17h-6.49l-4 4zm-3.01-6.01l3.01 3.01 3.01-3.01h5.479v-13h-17v13z",opacity:"0.961",transform:"translate(-1360 -758)"})})})})};function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(){var e=(0,g.db)(),t=(0,a.Z)(e,2),n=t[0],i=t[1];return(0,Z.tZ)(A,{children:(0,Z.tZ)("button",{type:"button",className:"con__seek-prev","aria-label":"10\ucd08 \ub4a4\ub85c",onClick:function(){i((function(e){return J(J({},e),{},{isViewActionInfo:!0,isVolumeChange:!1,isSeekPrev:!0,isSeekNext:!1,isPlayToggle:!1})})),n.seekPrev()},children:(0,Z.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",children:[(0,Z.tZ)("path",{fill:"#fff",d:"M440.216 779.391a11.534 11.534 0 0 1-3.961-6.519l1.862-.931a9.5 9.5 0 1 0 9.392-10.931 9.39 9.39 0 0 0-4.271 1.013 9.514 9.514 0 0 0-1.752 1.143l2.418.648-.517 1.931-3.864-1.035-1.931-.517.518-1.932 1.035-3.864 1.932.518-.685 2.555a11.518 11.518 0 0 1 1.858-1.2 11.5 11.5 0 1 1 5.26 21.73 11.514 11.514 0 0 1-7.294-2.609z",transform:"translate(-435 -758)"}),(0,Z.tZ)("text",{fill:"#fff",fontFamily:"'Noto Sans KR', Roboto",fontSize:"10px",fontWeight:"700",transform:"translate(6.847 15.627)",children:(0,Z.tZ)("tspan",{x:"0",y:"0",children:"10"})})]})})})};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(){var e=(0,g.db)(),t=(0,a.Z)(e,2),n=t[0],i=t[1];return(0,Z.tZ)(A,{children:(0,Z.tZ)("button",{type:"button",className:"con__seek-prev","aria-label":"10\ucd08 \uc55e\uc73c\ub85c",onClick:function(){i((function(e){return ee(ee({},e),{},{isViewActionInfo:!0,isVolumeChange:!1,isSeekPrev:!1,isSeekNext:!0,isPlayToggle:!1})})),n.seekNext()},children:(0,Z.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",children:[(0,Z.tZ)("path",{fill:"#fff",d:"M489.379 778.631a11.5 11.5 0 0 1 15.221-17.187l-.678-2.529 1.932-.518 1.035 3.864.518 1.932-1.931.517-3.864 1.035-.518-1.931 2.434-.653a9.5 9.5 0 1 0 3.29 9.248l1.84.92a11.561 11.561 0 0 1-4.032 6.2 11.5 11.5 0 0 1-15.249-.9z",transform:"translate(-485 -758)"}),(0,Z.tZ)("text",{fill:"#fff",fontFamily:"'Noto Sans KR', Roboto",fontSize:"10px",fontWeight:"700",transform:"translate(6.847 15.627)",children:(0,Z.tZ)("tspan",{x:"0",y:"0",children:"10"})})]})})})};function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re,oe=(0,y.Z)("button",{target:"e14pl4wp0"})({name:"1pa7eot",styles:"display:flex;align-items:center;svg{overflow:visible;position:relative;margin-right:-7px!important;transition:opacity 0.1s;width:2.5rem!important;.ontype{opacity:0;transition:all 0.3s;transform:translate(-1310px, -755px);.cjp-wrap.ie &{display:none;}&-type{fill:#000;}}}&.active{color:#fff;svg{opacity:1;.ontype{opacity:1;transform:translate(-1310px, -758px);&-type{fill:#fff;}}path,rect,polygon{fill:var(--color-tvn);fill:#{}}}}"}),ae=function(e){var t=e.streamData,n=void 0===t?{}:t,i=e.setIsActiveTalk,r=(0,g.db)(),o=(0,a.Z)(r,2),s=o[0],l=o[1],c=s||{},u=(c.player,c.isPlayingTimeshift),d=void 0!==u&&u,m=c.ndvrToggle,f=c.ndvrOff;if(!n.isTimeshift)return null;return(0,Z.tZ)(oe,{type:"button","aria-label":d?"\ud0c0\uc784\uba38\uc2e0 \uc885\ub8cc":"\ud0c0\uc784\uba38\uc2e0 \uc2dc\uc791",className:function(){var e=["cjp-live-timemachine"];return d&&e.push("active"),e}().join(" "),onClick:function(){d?f():m(),i(!1),l(ie(ie({},s),{},{isPlayingTimeshift:!d}))},children:(0,Z.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",id:"btn_Timemachine_ON",width:"32",height:"25",viewBox:"0 0 32 25",children:[(0,Z.tZ)("path",{id:"icon_Timemachine",d:"M1311.373 773.813l1.833-.916a9 9 0 1 0 8.8-10.876 8.906 8.906 0 0 0-4.093.982 9.019 9.019 0 0 0-1.664 1.1l2.651.711-.518 1.931-3.864-1.035-1.931-.518.517-1.932 1.035-3.864 1.932.518-.6 2.235a11 11 0 1 1-4.1 11.663zM1322 772a1 1 0 0 1-1-1v-1h4a1 1 0 1 1 0 2zm-1-2v-4a1 1 0 1 1 2 0v4z",className:"cls-2",transform:"translate(-1310 -758)"}),(0,Z.BX)("g",{className:"ontype",transform:"translate(-1310 -758)",children:[(0,Z.tZ)("rect",{id:"\uc0ac\uac01\ud615_96",width:"19",height:"12",className:"cls-2",rx:"6",transform:"translate(1323 771)"}),(0,Z.tZ)("text",{id:"ON-2",fill:"#141414",fontFamily:"Roboto-Black, Roboto",fontSize:"8px",fontWeight:"800",opacity:"0.961",transform:"translate(1327 779.987)",children:(0,Z.tZ)("tspan",{x:"0",y:"0",children:"ON"})})]})]})})},se=n(85884);function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var ce=function(e){return c.createElement("svg",le({xmlns:"http://www.w3.org/2000/svg",width:16,height:24,viewBox:"0 0 16 24"},e),re||(re=c.createElement("path",{"data-name":"icon_arrow_more_up",d:"M10.416 10.589l-4.662 4.662-.922-.922 5.58-5.58 5.58 5.58-.922.922z",fill:"#fff",opacity:.961})))},ue=n(87371),de=n(26991);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=function(e){var t=e.setStats,n=e.actionHideControl,i=(0,g.Pc)(),r=(((0,a.Z)(i,1)[0]||{}).profileNo,(0,v.Z)("tving-player-stream-start-quality")),o=(0,a.Z)(r,2),s=(o[0],o[1]),l=(0,c.useState)(!1),u=l[0],d=l[1],f=(0,g.db)(),p=(0,a.Z)(f,2),h=p[0],y=p[1],b=h||{},w=b.qualityList,_=b.mediaCode,x=(null===w||void 0===w?void 0:w.filter((function(e){return e.isSelected})))||[{}],k=(0,a.Z)(x,1)[0],E=(k=void 0===k?{}:k).height,C=k.displaySubName;(0,c.useEffect)((function(){h.player&&h.player.on(m.zW.STATE_QUALITY_LOADED,(function(e){y((function(t){return fe(fe({},t),{},{qualityList:e})}))}))}),[h.player]);var P=(0,c.useRef)();(0,se.Z)(P,(function(){d(!1)}));return(0,Z.tZ)(Z.HY,{children:(0,Z.BX)("div",{className:"cjp-quality ".concat(u?"is-show":""),ref:P,children:[(0,Z.tZ)("div",{className:"cjp-quality-menu",children:null===w||void 0===w?void 0:w.map((function(e,i){var r=e.code,o=e.height,a=e.displaySubName,l=e.isSelected,c=e.isActive;return(0,Z.tZ)("div",{className:l?"selected":"",onClick:function(){!function(e,i,r){e?(s("".concat(r)),y((function(e){return fe(fe({},e),{},{qualityList:w.map((function(e,t){return fe(fe({},e),{},{isSelected:t===i})})),startStreamCode:r,isQualityChanging:!0})})),t((function(e){return fe(fe({},e),{},{isQualityChanging:!0})})),h.player.qualityChange(i),d(!1),n()):ue.Z.dialog({title:"\uc774\uc6a9\uad8c \uc5c5\uadf8\ub808\uc774\ub4dc \ud6c4 \uc774\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4.",text:"1080p \ud654\uc9c8\uc740 \uc2a4\ud0e0\ub2e4\ub4dc \ub610\ub294 \ud504\ub9ac\ubbf8\uc5c4 \uc774\uc6a9\uad8c \ubcf4\uc720 \uc2dc \uc774\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \n\uc774\uc6a9\uad8c\uc744 \uc5c5\uadf8\ub808\uc774\ub4dc \ud574\uc8fc\uc138\uc694.",confirmButtonText:"\uc774\uc6a9\uad8c \ubcf4\uae30"}).then((function(e){e.isConfirmed&&(0,de.Vq)({mediaCode:_})}))}(c,i,r)},children:(0,Z.BX)("span",{children:[o,(0,Z.tZ)("em",{children:a})]})},i)}))}),E&&(0,Z.tZ)("button",{type:"button","aria-label":"\ud654\uc9c8 \uc120\ud0dd",onClick:function(){return d(!u)},children:(0,Z.BX)("div",{className:"con__quality-ani",children:[(0,Z.BX)("span",{children:[E,(0,Z.tZ)("em",{children:C})]}),(0,Z.tZ)(ce,{})]})})]})})};function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=function(e){var t=e.actionHideControl,n=(0,g.Pc)(),i=(((0,a.Z)(n,1)[0]||{}).profileNo,(0,g.db)()),r=(0,a.Z)(i,2),o=r[0],s=o.player,l=o.playbackRate,u=r[1],d=(0,c.useState)(!1),m=d[0],f=d[1],p=(0,v.Z)("tving-player-stream-start-playbackrate"),h=(0,a.Z)(p,2),y=(h[0],h[1]),b=(0,c.useState)(l||1),w=b[0],_=b[1];(0,c.useEffect)((function(){l&&_(l)}),[l]);var x=(0,c.useRef)();(0,se.Z)(x,(function(){f(!1)}));var k,E=function(e){u((function(t){return ve(ve({},t),{},{playbackRate:Number(e)})})),y("".concat(Number(e))),s.playbackRate=Number(e),f(!1),t()};return(0,Z.tZ)(Z.HY,{children:(0,Z.BX)(ye,{className:"cjp-quality ".concat(m?"is-show":""),ref:x,children:[(0,Z.BX)("div",{className:"cjp-quality-menu",children:[(0,Z.tZ)("div",{className:.75===w?"selected":"",onClick:function(){E("0.75")},children:(0,Z.BX)("span",{children:[(0,Z.tZ)("em",{children:"x"}),"0.75"]})}),(0,Z.tZ)("div",{className:1===w?"selected":"",onClick:function(){E("1.0")},children:(0,Z.BX)("span",{children:[(0,Z.tZ)("em",{children:"x"}),"1.0"]})}),(0,Z.tZ)("div",{className:1.25===w?"selected":"",onClick:function(){E("1.25")},children:(0,Z.BX)("span",{children:[(0,Z.tZ)("em",{children:"x"}),"1.25"]})}),(0,Z.tZ)("div",{className:1.5===w?"selected":"",onClick:function(){E("1.5")},children:(0,Z.BX)("span",{children:[(0,Z.tZ)("em",{children:"x"}),"1.5"]})}),(0,Z.tZ)("div",{onClick:function(){E("2.0")},className:2===w?"selected":"",children:(0,Z.BX)("span",{children:[(0,Z.tZ)("em",{children:"x"}),"2.0"]})})]}),(0,Z.tZ)("button",{type:"button","aria-label":"\uc7ac\uc0dd \uc18d\ub3c4",onClick:function(){return f(!m)},children:(0,Z.BX)("div",{className:"con__quality-ani",children:[(0,Z.BX)("span",{children:[(0,Z.tZ)("em",{children:"x"}),(k=w,k%1===0?k.toFixed(1):k.toString())]}),(0,Z.tZ)(ce,{})]})})]})})},ye=(0,y.Z)("div",{target:"e1lya2120"})({name:"1bzxdlz",styles:"button{.con__quality-ani{span{align-items:flex-end;em{font-size:1.5rem;padding-right:0.2rem;}}}}"}),be=n(80962);var we=function(e){var t,n,i,r,o=e.programCode,a=(e.frequency,e.mediaType),s=e.mediaCode,l=(0,h.useRouter)(),u=(0,c.useRef)(),d=(0,c.useRef)(),m=(0,be.MZ)(o),f=function(e){l.push("/player/".concat(e))},p=window.outerWidth-(null===(t=u.current)||void 0===t?void 0:t.getBoundingClientRect().right)||0,v=window.outerWidth-(null===(n=d.current)||void 0===n?void 0:n.getBoundingClientRect().right)||0;if("clip"===a)return null;var g=(0,c.useState)(null),y=g[0],b=g[1],w=(0,c.useState)(null),_=w[0],x=w[1];return(0,c.useEffect)((function(){var e;b(null),x(null);var t=(null===m||void 0===m||null===(e=m.data)||void 0===e?void 0:e.items)||[];t.map((function(e,n){var i=(e||{}).code;s===i&&(b(t[n-1]),x(t[n+1]))}))}),[s,null===m||void 0===m||null===(i=m.data)||void 0===i||null===(r=i.items)||void 0===r?void 0:r.length]),(0,Z.BX)(Z.HY,{children:[y&&(0,Z.BX)(_e,{onClick:function(){return f(y.code)},children:[(0,Z.BX)(Ze,{right:p,children:[(0,Z.tZ)("img",{src:y.thumbnail,alt:""}),(0,Z.BX)("div",{children:[(0,Z.BX)(xe,{children:["\uc774\uc804 \ud654",(0,Z.BX)(ke,{children:[y.frequency,"\ud654"]})]}),(0,Z.tZ)(Ee,{children:y.synopsis})]})]}),(0,Z.tZ)("button",{type:"button",ref:u,children:(0,Z.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[(0,Z.tZ)("path",{style:{fill:"none",opacity:".502"},d:"M0 0h24v24H0z"}),(0,Z.tZ)("path",{"data-name":"\ud569\uce58\uae30 17",d:"m15550 1936 15-9v18zm-3 9v-18h2v18z",transform:"translate(-15544 -1924)",style:{fill:"#fff",stroke:"transparent",strokeMiterlimit:10}})]})})]}),_&&(0,Z.BX)(_e,{onClick:function(){return f(_.code)},children:[(0,Z.BX)(Ze,{right:v,children:[(0,Z.tZ)("img",{src:_.thumbnail,alt:""}),(0,Z.BX)("div",{children:[(0,Z.BX)(xe,{children:["\ub2e4\uc74c \ud654",(0,Z.BX)(ke,{children:[_.frequency,"\ud654"]})]}),(0,Z.tZ)(Ee,{children:_.synopsis})]})]}),(0,Z.tZ)("button",{type:"button",ref:d,children:(0,Z.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[(0,Z.tZ)("path",{style:{fill:"none",opacity:".502"},d:"M0 0h24v24H0z"}),(0,Z.tZ)("path",{"data-name":"\ud569\uce58\uae30 18",d:"M15515 1945v-18h2v18zm-16-18 15 9-15 9z",transform:"translate(-15496 -1924)",style:{fill:"#fff",stroke:"transparent",strokeMiterlimit:10}})]})})]})]})},_e=(0,y.Z)("div",{target:"eyfvr9x4"})({name:"fq8ec8",styles:"position:relative;cursor:pointer;&:before{content:'';position:absolute;left:0;bottom:0rem;width:100%;height:100%;}&:hover{&:before{height:300%;}>div{pointer-events:visible;visibility:visible;opacity:1;transition:visibility 0s linear 0s,opacity 0.4s,transform 0.4s;transform:translate(-2rem, 0);}}"}),Ze=(0,y.Z)("div",{target:"eyfvr9x3"})("position:absolute;bottom:7rem;right:",(function(e){var t=e.right;return"calc(-".concat(t,"px)")}),";width:42.333rem;margin-left:50%;padding:0.167rem;background-color:rgba(0, 0, 0, 0.75);font-size:1.5rem;border-radius:4px;transform:translate(-2rem, 0);pointer-events:none;-webkit-font-smoothing:subpixel-antialiased;opacity:0;transition:visibility 0s linear 0.2s,opacity 0.2s,transform 0.2s;transform:translate(-2rem, 0.5rem);display:flex;img{width:18.667rem;height:10.5rem;object-fit:cover;}>div{padding:1.7rem 2rem 1.75rem 1.5rem;p{}}"),xe=(0,y.Z)("p",{target:"eyfvr9x2"})({name:"k9vu6d",styles:"display:flex;align-items:center;font-weight:700;font-size:1.25rem;color:#dedede"}),ke=(0,y.Z)("span",{target:"eyfvr9x1"})({name:"1tc9h6x",styles:"display:flex;align-items:center;&:before{content:'';display:inline-block;width:1px;height:1.167rem;margin:0 1rem;background-color:#4e4e4e;}"}),Ee=(0,y.Z)("p",{target:"eyfvr9x0"})({name:"1pjwwvj",styles:"position:relative;margin:0.5rem 0 0;font-size:1.167rem;line-height:1.43;text-align:left;color:#a3a3a3;-webkit-line-clamp:3;-webkit-box-orient:vertical;display:-webkit-inline-box;max-width:100%;overflow:hidden;text-overflow:ellipsis"}),Ce=n(20797),Pe=n.n(Ce),Se=n(63024),Oe=n.n(Se),Te=n(84917);var Ne=function(e,t,n,i){var r="";if(r=(0,Te.M)(e*t),n){var o=Math.floor(120*(1-e)*60);r=o<=0?"LIVE":"-".concat((0,Te.M)(o))}return r},Ae=function(e){var t,i,r=e.progressPer,o=(e.localPer,e.isPlayingTimeshift),a=e.isDrag,s=e.isMoving,l=e.posX,u=e.stats,d=e.streamData,m=(0,c.useRef)(),f=(0,c.useRef)(),p=(0,c.useRef)(),h=(0,c.useRef)(),v=(0,c.useRef)(),g=(null===(t=d.vttThumbnail)||void 0===t?void 0:t.vttPath)&&(null===(i=d.vttThumbnail)||void 0===i?void 0:i.vttImg),y=d.vttThumbnail||{},b=y.vttPath,w=y.vttImg,_=(d||{}).mediaType,x=(0,c.useState)({imgWidth:0,imgHeight:0,imgDefaultWidth:0,imgDefaultHeight:0}),k=x[0],E=x[1],C=(0,c.useState)([]),P=C[0],S=C[1];(0,c.useEffect)((function(){b&&Oe().get(b,{}).then((function(e){!function(e,t){var i=Pe().WebVTT,r=Pe().VTTCue;window.VTTCue||(window.VTTCue=r);var o={},a=[],s=new i.Parser(window,i.StringDecoder());s.oncue=function(e){try{var t=e.text.split("#")[1],n={},i=t.split("=")[0].split(""),r=t.split("=")[1].split(",");i.forEach((function(e,t){n[e]=r[t]})),e.imgObj=n,o.imgWidth=e.imgObj.w,o.imgHeight=e.imgObj.h,o.imgDefaultWidth=e.imgObj.w,o.imgDefaultHeight=e.imgObj.h}catch(s){}a.push(e)},s.onflush=function(){t(o,a)},s.onparsingerror=function(e){};var l=r;try{n.g.VTTCue=r,s.parse(e.data),s.flush()}finally{n.g.VTTCue=l}t(o,a)}(e,(function(e,t){E(e),S(t)}))})).catch((function(e){}))}),[b]);var O=function(){if(!m.current)return{};var e=m.current.getBoundingClientRect(),t=(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,e.width),n=Math.min(Math.max(l,0),t)+2,i=u.duration*Math.min(1,n/m.current.offsetWidth),r={x:0,y:0};return P.filter((function(e){return e.startTime<=i&&e.endTime>=i})).forEach((function(e){r.x=Number(e.imgObj.x),r.y=Number(e.imgObj.y)})),r}(),T=O.x,N=O.y;return(0,Z.BX)(Z.HY,{children:[(0,Z.BX)("div",{className:"progress-per",style:{width:"".concat(100*r(),"%")},children:[(0,Z.tZ)("div",{className:"progress-pointer",ref:h}),(0,Z.tZ)(je,{style:{transform:"translateX(".concat(function(){if(!m.current||!p.current||!h.current)return 0;var e=h.current.offsetLeft,t=h.current.offsetWidth,n=m.current.offsetWidth,i=p.current.offsetWidth,r=Math.round(i/2),o=e-r+Math.round(t/2),a=e+r+Math.round(t/2);return o<0?0:a>n?n-Math.round(i):o}(),"px)")},isPlayingTimeshift:o,ref:p,"aria-label":Ne(r(),u.duration,o)})]}),(0,Z.BX)(Le,{className:function(){var e=["progress__thumbnail"];return a&&e.push("is-dragging"),s&&e.push("is-show"),g&&e.push("is-thumbnail"),e}().join(" "),children:[(0,Z.tZ)("div",{className:"progress__thumbnail-rail",ref:m}),(0,Z.tZ)("div",{className:"progress__thumbnail-time",style:{transform:"translateX(".concat(function(){if(!m.current)return 0;var e=m.current.getBoundingClientRect(),t=(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,f.current.offsetWidth/2),n=0+t,i=e.width-t;return Math.min(Math.max(l,n),i)}(),"px)")},children:(0,Z.tZ)("div",{className:"progress__thumbnail-time-pointer",ref:f,children:function(){if(!m.current)return 0;var e=m.current.getBoundingClientRect(),t=(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,e.width),n=Math.min(Math.max(l,0),t);return Ne(n/m.current.offsetWidth,u.duration,o)}()})}),g&&(0,Z.tZ)("div",{className:"progress__thumbnail-pointer",ref:v,style:{left:"-".concat(k.imgWidth/2,"px"),width:"".concat(k.imgWidth,"px"),height:"".concat(k.imgHeight,"px"),transform:"translateX(".concat(function(){if(!m.current||!v.current)return 0;var e=m.current.getBoundingClientRect(),t=(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,v.current.offsetWidth/2),n=0+t,i=e.width-t;return Math.min(Math.max(l,n),i)}(),"px) ").concat("movie"===_?"scaleY(0.757)":"")},children:(0,Z.tZ)("img",{src:w,alt:"\uc601\uc0c1 \ubbf8\ub9ac\ubcf4\uae30 \uc774\ubbf8\uc9c0",style:{transform:"translate(-".concat(T/1,"px, -").concat(N/1,"px) scale(").concat(1,")")}})})]})]})},Me={name:"ol8moz",styles:"visibility:visible;opacity:1;&:after{content:attr(aria-label);}"},je=(0,y.Z)("div",{target:"e1a0jzpm1"})("position:absolute;bottom:1.5rem;pointer-events:none;visibility:hidden;opacity:0;transition:visibility 0s linear 0.2s,opacity 0.2s,top 0.2s;&:after{display:block;bottom:0;height:2em;line-height:2em;padding:0 0.5em;font-size:1rem;white-space:nowrap;background-color:rgba(15, 15, 15, 0.85);border-radius:2px;color:rgba(255, 255, 255, 1);box-shadow:0px 4px 5px -2px rgba(0, 0, 0, 0.2),0px 7px 10px 1px rgba(0, 0, 0, 0.14),0px 2px 16px 1px rgba(0, 0, 0, 0.12)!important;transition:transform 0.2s;}",(function(e){return e.isPlayingTimeshift?Me:""}),";"),Le=(0,y.Z)("div",{target:"e1a0jzpm0"})({name:"1sfs9a",styles:"position:absolute;top:0;left:0;width:100%;pointer-events:none;opacity:0;transform:translate(0, 15px);transition:transform 0.2s cubic-bezier(0.19, 1, 0.22, 1),opacity 0.2s cubic-bezier(0.19, 1, 0.22, 1);$root:&\f;&.is-show{opacity:1;transform:translate(0, 0);transition:transform 0.4s cubic-bezier(0.19, 1, 0.22, 1),opacity 0.4s cubic-bezier(0.19, 1, 0.22, 1);}&.is-dragging{& #{}-pointer{}}&.is-thumbnail{.progress__thumbnail-time-pointer{border-bottom-left-radius:0;border-bottom-right-radius:0;}.progress__thumbnail-pointer{opacity:1;}}.progress__thumbnail{&-rail{height:1px;pointer-events:none;}&-time{position:absolute;bottom:18px;z-index:1;&-pointer{position:absolute;left:50%;bottom:0;transform:translate(-50%, 0);height:rem(26px);line-height:2em;padding:0 0.5em;font-size:14px;white-space:nowrap;background-color:rgba(0, 0, 0, 0.96);border-radius:3px;color:rgba(255, 255, 255, 1);box-shadow:0px 4px 5px -2px rgba(0, 0, 0, 0.2),0px 7px 10px 1px rgba(0, 0, 0, 0.14),0px 2px 16px 1px rgba(0, 0, 0, 0.12)!important;transition:transform 0.2s;}}&-pointer{overflow:hidden;position:absolute;bottom:18px;left:-100px;width:200px;height:300px;border:1px solid #232323;background-color:#232323;color:black;box-sizing:content-box;box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0, 0, 0, 0.12);transition:bottom 0.4s cubic-bezier(0.19, 1, 0.22, 1);opacity:0;transition:opacity 0.2s;transform-origin:bottom;img{position:absolute;width:auto;max-width:none!important;transform-origin:top left;}}}"});var De=function(e){var t,n=e.stats,i=e.broadcastStartTime,r=e.broadcastEndTime,o=e.isLive,s=e.streamData,l=(0,c.useRef)(),u=(0,g.db)(),d=(0,a.Z)(u,1)[0],f=(0,c.useState)(!1),h=f[0],v=f[1],y=(0,c.useState)(!1),b=y[0],w=y[1],_=(0,c.useState)(!1),x=_[0],k=_[1],E=(0,c.useState)(),C=E[0],P=E[1],S=(0,c.useState)(1),O=S[0],T=S[1],N=d.isPlayingTimeshift,A=d.ndvrToggle;(0,c.useEffect)((function(){N&&T(1)}),[N]);(0,c.useEffect)((function(){null!==d&&void 0!==d&&d.player&&setTimeout((function(){d.player.on(m.zW.PLAYER_STATE_SEEKED,(function(){k(!1)}))}),100)}),[d.player,null===(t=d.player)||void 0===t?void 0:t.mediaPlayer]),(0,c.useEffect)((function(){if(null!==d&&void 0!==d&&d.player)return b?(j(C),globalThis.addEventListener("mousemove",j,!1),globalThis.addEventListener("mouseup",M,!1)):(C&&!N&&(d.player.currentTime=Math.ceil(n.duration*O)-1),N&&A(7200*(1-O)),P(null)),function(){globalThis.removeEventListener("mousemove",j),globalThis.removeEventListener("mouseup",M)}}),[b]);var M=function(e){N||k(!0),w(!1)},j=function(e){var t=l.current,n=t.getBoundingClientRect(),i=globalThis.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,r=(e.pageX-(n.left+i))/t.offsetWidth;r=Math.min(Math.max(0,r),1),T(r)},L=(0,c.useState)(0),D=L[0],z=L[1];return(0,Z.BX)("div",{className:function(){var e=["cjp-con-progress"];return b&&e.push("draging"),e}().join(" "),children:[(0,Z.tZ)("div",{className:"progress-bar-dimm-bg"}),!n.ended&&(0,Z.BX)("div",{className:"progress-bar",ref:l,"aria-hidden":"true",onMouseMove:function(e){v(!0);var t=l.current.getBoundingClientRect(),n=e.pageX||e.changedTouches[0].pageX,i=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;z(n-(t.left+i))},onMouseLeave:function(e){v(!1)},onMouseDown:function(e){P(e),w(!0)},onMouseUp:M,style:{right:"".concat(function(){var e;if(!d.player)return 0;var t=null===(e=d.player.player)||void 0===e?void 0:e.mediaElement,n=d.player.streamInfo||{},i=n.isQvod,r=n.duration,o=0;if(i){var a=null===t||void 0===t?void 0:t.duration;(null===t||void 0===t?void 0:t.duration)===1/0&&(a=null===t||void 0===t?void 0:t.seekable.end(0)),o=1-a/r}return Math.max(0,100*o)}(),"%")},children:[N&&(0,Z.BX)(ze,{className:"progress-timeline2",children:[(0,Z.tZ)("div",{"aria-label":"2\uc2dc\uac04 \uc804"}),(0,Z.tZ)("div",{"aria-label":"1\uc2dc\uac04 30\ubd84 \uc804"}),(0,Z.tZ)("div",{"aria-label":"1\uc2dc\uac04 \uc804"}),(0,Z.tZ)("div",{"aria-label":"30\ubd84 \uc804"}),(0,Z.tZ)("div",{"aria-label":"LIVE"})]}),(0,Z.tZ)(Ae,{progressPer:function(){var e=0;if(o())if(N)e=O;else{var t=p()(i,"YYYYMMDDHHmmss"),a=p()(r,"YYYYMMDDHHmmss");e=Math.min(Math.max(p()().diff(t)/a.diff(t),0),100)}else e=n.currentTime/n.duration;return b||x?O:isNaN(e)?0:e},isPlayingTimeshift:N,localPer:O,isDrag:b,isMoving:h,posX:D,stats:n,streamData:s})]})]})},ze=(0,y.Z)("div",{target:"e1rq96zj0"})({name:"187xb83",styles:"pointer-events:none;div{position:absolute;top:0;left:0;width:0.5em;height:0.5em;transition:all 0.2s;&:before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background-color:#fff;border-radius:100px;transition:all 0.2s;}&:after{content:attr(aria-label);position:absolute;left:-50px;bottom:1em;width:100px;text-align:center;white-space:nowrap;font-size:1rem;opacity:0.5;transition:all 0.2s;}&:nth-of-type(1){left:0;&:before{transform-origin:left;}&:after{left:0px;text-align:left;}}&:nth-of-type(2){left:25%;}&:nth-of-type(3){left:50%;}&:nth-of-type(4){left:75%;}&:nth-of-type(5){left:auto;right:0;&:before{transform-origin:right;}}}"}),Be=function(e){var t=e.stats,n=e.skipTime,i=e.currentTime,r=e.isAnotherPage,o=t.ended,s=(0,g.db)(),l=(0,a.Z)(s,1)[0];if(!(n>i&&i>0))return null;if(o)return null;return(0,Z.tZ)(T,{isSmall:r,onClick:function(){l.player.currentTime=n},children:(0,Z.tZ)("button",{type:"button",children:"\uc624\ud504\ub2dd \uac74\ub108\ub6f0\uae30"})})},Re=n(57254),He=n(47481);function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye=function(e){var t=e.data,n=(0,g.db)(),i=(0,a.Z)(n,2),r=i[0],o=i[1],s=(0,g.gM)({mediaCode:r.mediaCode}).data.isPreview,l=(r||{}).isHideNextEpisode,c=(0,h.useRouter)(),u=t.title,d=t.thumbnail,m=(t.frequency,t.code);t.synopsis;return l||s?null:(0,Z.tZ)(Z.HY,{children:(0,Z.tZ)(Ve,{children:(0,Z.BX)(We,{children:[(0,Z.BX)("button",{type:"button",onClick:function(){return e=m,void c.push("/player/".concat(e));var e},children:[(0,Z.tZ)(Re.t,{src:d,alt:""}),(0,Z.BX)("div",{children:[(0,Z.tZ)(qe,{children:u}),(0,Z.tZ)(Fe,{children:"\ub2e4\uc74c\ud68c\ucc28 \ubc14\ub85c\ubcf4\uae30"})]})]}),(0,Z.tZ)("button",{type:"button",className:"btn__close",onClick:function(){o((function(e){return Ie(Ie({},e),{},{isHideNextEpisode:!0})}))},children:(0,Z.tZ)(He.Z,{})})]})},"item-prev")})},Ve=(0,y.Z)("div",{target:"e18ire9t4"})({name:"xp92bq",styles:"position:relative;cursor:pointer;pointer-events:visible;&:before{content:'';position:absolute;left:0;bottom:0rem;width:100%;height:100%;}&:hover{&:before{height:200%;}>div{visibility:visible;opacity:1;transition:visibility 0s linear 0s,opacity 0.2s,transform 0.2s;transform:translate(-2rem, 0);}}"}),We=(0,y.Z)("div",{target:"e18ire9t3"})({name:"1jz3rp",styles:"position:absolute;bottom:2rem;right:0;margin-left:50%;padding:0.167rem;background-color:rgba(0, 0, 0, 0.75);font-size:1.5rem;border-radius:4px;transform:translate(-2rem, 0);display:flex;align-items:center;img{display:block;width:13rem;aspect-ratio:16/9;object-fit:cover;}button{display:flex;align-items:center;>div{padding:1.7rem 4rem 1.75rem 1.5rem;p{}}}.btn__close{position:absolute;top:0;right:0;opacity:0.7;transition:opacity 0.1s;&:hover{opacity:1;}}svg{transform:scale(0.75);}"}),qe=(0,y.Z)("p",{target:"e18ire9t2"})({name:"a6a30l",styles:"align-items:center;font-weight:700;font-size:1.25rem;color:#dedede;width:100%"}),Fe=((0,y.Z)("span",{target:"e18ire9t1"})({name:"ecvnik",styles:"display:inline-flex;align-items:center;&:before{content:'';display:inline-block;width:1px;height:1.167rem;margin:0 1rem;background-color:#4e4e4e;}"}),(0,y.Z)("p",{target:"e18ire9t0"})({name:"13gnzhe",styles:"position:relative;margin:0.5rem 0 0;font-size:1.167rem;line-height:1.43;text-align:left;color:#a3a3a3;-webkit-line-clamp:3;-webkit-box-orient:vertical;display:-webkit-inline-box;overflow:hidden;text-overflow:ellipsis"})),Ke=n(14123),Ue=n(86975);var Qe=(0,y.Z)("div",{target:"e1pz1o70"})({name:"1c5o42x",styles:"position:absolute;height:100%;width:100%;display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);background-color:rgba(0, 0, 0, 0.5);>*{pointer-events:visible;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);}svg{width:12rem;height:12rem;padding:2rem;cursor:pointer;}"}),Je=function(e){var t=e||{},n=t.stats,i=t.actionReplay,r=t.isSmall,o=n||{},s=o.isPlaying,l=o.ended,c=(0,g.db)(),u=((0,a.Z)(c,1)[0]||{}).player;return l?(0,Z.tZ)(Qe,{isSmall:r,children:s?(0,Z.tZ)(Ke.Z,{onClick:function(){u.pause()}}):(0,Z.tZ)(Ue.Z,{onClick:function(){i()}})}):null};function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var et=function(e){var t=e.stats,n=void 0===t?{}:t,i=e.isControlHide,r=e.isSmall,o=(0,g.db)(),s=(0,a.Z)(o,2),l=s[0],u=s[1],d=l||{},m=d.player,f=d.isVolumeChange,p=d.isSeekPrev,h=d.isSeekNext,v=d.isPlayToggle,y=d.isPlayPause,b=(m||{}).volume,w=(0,c.useState)(!1),_=w[0],x=w[1];(0,c.useEffect)((function(){if(!_)return null;u((function(e){return $e($e({},e),{},{isViewActionInfo:!1})}));var e=setTimeout((function(){u((function(e){return $e($e({},e),{},{isVolumeChange:!1})})),x(!1)}),3e3);return function(){clearTimeout(e)}}),[_]),(0,c.useEffect)((function(){if(!l.isViewActionInfo)return null;x(!1);var e=setTimeout((function(){x(!0)}),18);return function(){clearTimeout(e)}}),[l.isViewActionInfo]);return(0,Z.tZ)(Z.HY,{children:function(){return!n.paused&&n.playing||n.paused||p()||h()||f}&&(0,Z.tZ)(nt,{isSmall:r,isControlHide:i,children:(0,Z.BX)(rt,{isSmall:r,isVisible:_,children:[(0,Z.BX)("div",{className:"noti-box",children:[!f&&v&&!y&&(0,Z.tZ)("svg",{"v-if":"playerStateActionString === 'play'",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 100 100",style:{width:"8.333rem",height:"8.333rem"},children:(0,Z.tZ)("path",{fill:"#fff",d:"M982 440l-33 21v-42z",transform:"translate(-910 -390)"})}),!f&&v&&y&&(0,Z.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"41.999",style:{width:"3.333rem",height:"3.5rem"},viewBox:"0 0 40 41.999",children:(0,Z.tZ)("path",{fill:"#fff",d:"M966 461v-42h14v42zm-26 0v-42h14v42z",transform:"translate(-940 -419)"})}),!f&&p&&(0,Z.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52.537",height:"56.001",style:{width:"4.378rem",height:"4.667rem"},viewBox:"0 0 52.537 56.001",children:[(0,Z.tZ)("path",{fill:"#fff",d:"M41.127 55.224l2.064-7.7A27 27 0 1 1 25.648 0a26.8 26.8 0 0 1 15.839 5.132 27.069 27.069 0 0 1 9.7 13.079l-2.79 1.115a24.013 24.013 0 0 0-44.863-1.667A24 24 0 0 0 42.409 44.18l-9.061-2.428.777-2.9 13.523 3.623-.777 2.9L44.025 56z",transform:"rotate(180 25.593 28)"}),(0,Z.tZ)("text",{fill:"#fff",fontFamily:"'Noto Sans KR', Roboto",fontSize:"18px",fontWeight:"700",transform:"translate(12,37)",children:(0,Z.tZ)("tspan",{x:"0",y:"0",children:"10s"})})]}),!f&&h&&(0,Z.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52.648",height:"56.001",style:{width:"4.387rem",height:"4.667rem"},viewBox:"0 0 52.648 56.001",children:[(0,Z.tZ)("path",{fill:"#fff",d:"M953.959 469.878a27.008 27.008 0 1 1 27.6-45.777l-1.963-7.324 2.9-.777 2.847 10.625.5 1.878.17.222-.1.029.206.769-13.523 3.623-.777-2.9 9.336-2.5a23.978 23.978 0 1 0 6.172 24.6l2.792 1.117a27.026 27.026 0 0 1-36.158 16.419z",transform:"translate(-937.468 -416)"}),(0,Z.tZ)("text",{fill:"#fff",fontFamily:"'Noto Sans KR', Roboto",fontSize:"18px",fontWeight:"700",transform:"translate(12,37)",children:(0,Z.tZ)("tspan",{x:"0",y:"0",children:"10s"})})]}),f&&(0,Z.tZ)("div",{className:"noti-volume",children:(0,Z.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",style:{width:"8.333rem",height:"8.333rem"},viewBox:"0 0 100 100",children:[(0,Z.BX)("defs",{children:[(0,Z.tZ)("clipPath",{id:"clip-path",children:(0,Z.tZ)("path",{id:"\ud328\uc2a4_37",d:"M35.132 17.27a1.17 1.17 0 0 0-.116 1.861 9.094 9.094 0 0 1-.063 13.879 1.169 1.169 0 0 0 1.5 1.8 11.436 11.436 0 0 0 .077-17.46 1.146 1.146 0 0 0-.749-.275 1.178 1.178 0 0 0-.65.2",className:"cls-1",transform:"translate(-34.538 -17.075)"})}),(0,Z.tZ)("clipPath",{id:"clip-path-2",children:(0,Z.tZ)("path",{id:"\ud328\uc2a4_41",d:"M44.964 10.294a1.277 1.277 0 0 0-.2 1.878A20.826 20.826 0 0 1 44.73 40a1.275 1.275 0 0 0 .2 1.881 1.115 1.115 0 0 0 1.477-.172 23.4 23.4 0 0 0 .037-31.247 1.134 1.134 0 0 0-.838-.377 1.117 1.117 0 0 0-.643.205",className:"cls-1",transform:"translate(-44.405 -10.089)"})}),(0,Z.tZ)("clipPath",{id:"clip-path-3",children:(0,Z.tZ)("path",{id:"\ud328\uc2a4_39",d:"M54.816 4.078a1.2 1.2 0 0 0-.251 1.773 31.043 31.043 0 0 1-.008 40.06 1.194 1.194 0 0 0 .253 1.769h.005a1.2 1.2 0 0 0 1.575-.238 33.454 33.454 0 0 0 .01-43.127 1.212 1.212 0 0 0-.928-.435 1.188 1.188 0 0 0-.655.2",className:"cls-1",transform:"translate(-54.273 -3.881)"})})]}),(0,Z.BX)("g",{id:"_icon_Volume_3",transform:"translate(20 28)",children:[(0,Z.tZ)("g",{id:"volume_big",transform:"translate(0 5)",children:(0,Z.tZ)("path",{id:"volume",d:"M15.284 18.8H4.112v15.025h11.172l12.828 9.488v-34z",className:"cls-2",transform:"translate(-4.112 -9.313)"})}),0===b&&(0,Z.BX)("g",{id:"volume_mute_big",transform:"translate(29 14)",children:[(0,Z.tZ)("path",{id:"\uc0ac\uac01\ud615_101",d:"M0 0H2V20H0z",className:"cls-2",transform:"rotate(-45 1.707 .707)"}),(0,Z.tZ)("path",{id:"\uc0ac\uac01\ud615_102",d:"M0 0H2V20H0z",className:"cls-2",transform:"rotate(-135 3.929 7.485)"})]}),b>0&&(0,Z.tZ)("g",{"v-if":"volume > 0",id:"volume_1_big",transform:"translate(30 13)",children:(0,Z.tZ)("g",{id:"\uadf8\ub8f9_61",clipPath:"url(#clip-path)",children:(0,Z.tZ)("path",{id:"\uc0ac\uac01\ud615_31",d:"M0 0H13.509V25.547H0z",className:"cls-2",transform:"translate(-3.755 -3.773)"})})}),b>.3&&(0,Z.tZ)("g",{"v-if":"volume > .3",id:"volume_2_big",transform:"translate(39 6)",children:(0,Z.tZ)("g",{id:"\uadf8\ub8f9_69",clipPath:"url(#clip-path-2)",children:(0,Z.tZ)("path",{id:"\uc0ac\uac01\ud615_35",d:"M0 0H15.477V39.963H0z",className:"cls-2",transform:"translate(-3.738 -3.981)"})})}),b>.6&&(0,Z.tZ)("g",{"v-if":"volume > .6",id:"volume_3_big",transform:"translate(50)",children:(0,Z.tZ)("g",{id:"\uadf8\ub8f9_65",clipPath:"url(#clip-path-3)",children:(0,Z.tZ)("path",{id:"\uc0ac\uac01\ud615_33",d:"M0 0H17.666V51.72H0z",className:"cls-2",transform:"translate(-3.833 -3.86)"})})})]})]})})]}),f&&(0,Z.tZ)("div",{className:"noti-volume-layer",children:Math.round(100*b)})]})})})},tt={name:"1iw5ofo",styles:"transform:scale(0.6)"},nt=(0,y.Z)("div",{target:"e15nglnx1"})("position:absolute;top:0;left:0;width:100%;height:100%;justify-content:center;align-items:center;flex-wrap:wrap;display:flex;flex-direction:column;pointer-events:none;user-select:none;z-index:100;path{fill:#fff;}",(function(e){return e.isSmall?tt:""}),";"),it={name:"mgsnei",styles:".noti-box{display:flex;animation-name:boom;animation-duration:0.5s;}.noti-volume-layer{animation-name:boom2;animation-duration:0.5s;}"},rt=(0,y.Z)("div",{target:"e15nglnx0"})("position:absolute;top:0;left:0;right:0;bottom:0;display:flex;justify-content:center;align-items:center;pointer-events:none;@keyframes boom{from{transform:scale3d(1, 1, 1);opacity:1;}50%{opacity:0.7;}to{transform:scale3d(1.2, 1.2, 1.2);opacity:0;}}@keyframes boom2{from{transform:scale3d(1, 1, 1);opacity:1;}50%{opacity:0.7;}to{transform:scale3d(1, 1, 1);opacity:0;}}.noti-box{display:none;justify-content:center;align-items:center;width:9.167rem;height:9.167rem;border-radius:9999px;background-color:rgba(15, 15, 15, 0.74);transform:scale3d(0, 0, 0);animation-timing-function:ease-out;animation-duration:0s;animation-fill-mode:both;svg{width:100%;path{fill:#fff;}}.noti-volume{position:relative;display:flex;flex-wrap:wrap;justify-content:center;}}.noti-volume-layer{position:absolute;top:50%;left:0;width:100%;font-size:4rem;font-weight:700;text-align:center;margin-top:5.833rem;transform:scale3d(0, 0, 0);animation-timing-function:ease-out;animation-duration:0s;animation-fill-mode:both;}",(function(e){return e.isVisible?it:""}),";");var ot=function(){var e=(0,g.db)(),t=(0,a.Z)(e,1)[0].player;return(0,Z.BX)(at,{onClick:function(){t.muted=!1},children:[(0,Z.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,Z.tZ)("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"})}),(0,Z.tZ)("span",{children:"\ud074\ub9ad\ud558\uc5ec \uc18c\ub9ac\ucf1c\uae30"})]})},at=(0,y.Z)("button",{target:"enof3wq0"})({name:"qkj5va",styles:"svg{position:absolute;width:2rem;height:2rem;margin-right:1rem;path{fill:#fff;}}span{padding-left:2.5rem;}"});var st=(0,y.Z)("svg",{target:"e1y4ooxj0"})({name:"bceyyh",styles:"margin-top:0.1rem;margin-left:0.5rem;width:0.9rem;height:0.9rem"}),lt=function(e){var t=e.stats,n=(e.skipTime,e.currentTime,e.isAnotherPage),i=(t.ended,(0,g.jJ)()),r=(0,a.Z)(i,1)[0];return r.adLink?(0,Z.tZ)(O,{isSmall:n,onClick:function(){window.open(r.adLink)},children:(0,Z.BX)("button",{type:"button",children:[(0,Z.BX)("span",{children:[(0,Z.tZ)("em",{children:"\uad11\uace0\uc815\ubcf4"}),"\xa0","\ub354\ubcf4\uae30"]}),(0,Z.tZ)(st,{width:"10px",height:"10px",viewBox:"0 0 10 10",children:(0,Z.tZ)("path",{fillRule:"evenodd",fill:"rgb(255, 255, 255)",d:"M10.010,0.730 L10.000,0.740 L10.000,5.500 C10.000,5.776 9.776,6.000 9.500,6.000 C9.224,6.000 9.000,5.776 9.000,5.500 L9.000,1.740 L0.730,10.010 L-0.010,9.270 L8.260,1.000 L4.500,1.000 C4.224,1.000 4.000,0.776 4.000,0.500 C4.000,0.224 4.224,-0.000 4.500,-0.000 L9.260,-0.000 L9.270,-0.010 L9.280,-0.000 L9.500,-0.000 C9.776,-0.000 10.000,0.224 10.000,0.500 L10.000,0.720 L10.010,0.730 Z"})})]})}):null},ct=n(1477),ut=n(45376),dt=n(79894),mt=n(90289),ft={locale:"ko",long:{year:{previous:"\uc791\ub144",current:"\uc62c\ud574",next:"\ub0b4\ub144",past:"{0}\ub144 \uc804",future:"{0}\ub144 \ud6c4"},quarter:{previous:"\uc9c0\ub09c \ubd84\uae30",current:"\uc774\ubc88 \ubd84\uae30",next:"\ub2e4\uc74c \ubd84\uae30",past:"{0}\ubd84\uae30 \uc804",future:"{0}\ubd84\uae30 \ud6c4"},month:{previous:"\uc9c0\ub09c\ub2ec",current:"\uc774\ubc88 \ub2ec",next:"\ub2e4\uc74c \ub2ec",past:"{0}\uac1c\uc6d4 \uc804",future:"{0}\uac1c\uc6d4 \ud6c4"},week:{previous:"\uc9c0\ub09c\uc8fc",current:"\uc774\ubc88 \uc8fc",next:"\ub2e4\uc74c \uc8fc",past:"{0}\uc8fc \uc804",future:"{0}\uc8fc \ud6c4"},day:{previous:"\uc5b4\uc81c","previous-2":"\uadf8\uc800\uaed8",current:"\uc624\ub298",next:"\ub0b4\uc77c","next-2":"\ubaa8\ub808",past:"{0}\uc77c \uc804",future:"{0}\uc77c \ud6c4"},hour:{current:"\ud604\uc7ac \uc2dc\uac04",past:"{0}\uc2dc\uac04 \uc804",future:"{0}\uc2dc\uac04 \ud6c4"},minute:{current:"\ud604\uc7ac \ubd84",past:"{0}\ubd84 \uc804",future:"{0}\ubd84 \ud6c4"},second:{current:"\uc9c0\uae08",past:"{0}\ucd08 \uc804",future:"{0}\ucd08 \ud6c4"}},short:{year:{previous:"\uc791\ub144",current:"\uc62c\ud574",next:"\ub0b4\ub144",past:"{0}\ub144 \uc804",future:"{0}\ub144 \ud6c4"},quarter:{previous:"\uc9c0\ub09c \ubd84\uae30",current:"\uc774\ubc88 \ubd84\uae30",next:"\ub2e4\uc74c \ubd84\uae30",past:"{0}\ubd84\uae30 \uc804",future:"{0}\ubd84\uae30 \ud6c4"},month:{previous:"\uc9c0\ub09c\ub2ec",current:"\uc774\ubc88 \ub2ec",next:"\ub2e4\uc74c \ub2ec",past:"{0}\uac1c\uc6d4 \uc804",future:"{0}\uac1c\uc6d4 \ud6c4"},week:{previous:"\uc9c0\ub09c\uc8fc",current:"\uc774\ubc88 \uc8fc",next:"\ub2e4\uc74c \uc8fc",past:"{0}\uc8fc \uc804",future:"{0}\uc8fc \ud6c4"},day:{previous:"\uc5b4\uc81c","previous-2":"\uadf8\uc800\uaed8",current:"\uc624\ub298",next:"\ub0b4\uc77c","next-2":"\ubaa8\ub808",past:"{0}\uc77c \uc804",future:"{0}\uc77c \ud6c4"},hour:{current:"\ud604\uc7ac \uc2dc\uac04",past:"{0}\uc2dc\uac04 \uc804",future:"{0}\uc2dc\uac04 \ud6c4"},minute:{current:"\ud604\uc7ac \ubd84",past:"{0}\ubd84 \uc804",future:"{0}\ubd84 \ud6c4"},second:{current:"\uc9c0\uae08",past:"{0}\ucd08 \uc804",future:"{0}\ucd08 \ud6c4"}},narrow:{year:{previous:"\uc791\ub144",current:"\uc62c\ud574",next:"\ub0b4\ub144",past:"{0}\ub144 \uc804",future:"{0}\ub144 \ud6c4"},quarter:{previous:"\uc9c0\ub09c \ubd84\uae30",current:"\uc774\ubc88 \ubd84\uae30",next:"\ub2e4\uc74c \ubd84\uae30",past:"{0}\ubd84\uae30 \uc804",future:"{0}\ubd84\uae30 \ud6c4"},month:{previous:"\uc9c0\ub09c\ub2ec",current:"\uc774\ubc88 \ub2ec",next:"\ub2e4\uc74c \ub2ec",past:"{0}\uac1c\uc6d4 \uc804",future:"{0}\uac1c\uc6d4 \ud6c4"},week:{previous:"\uc9c0\ub09c\uc8fc",current:"\uc774\ubc88 \uc8fc",next:"\ub2e4\uc74c \uc8fc",past:"{0}\uc8fc \uc804",future:"{0}\uc8fc \ud6c4"},day:{previous:"\uc5b4\uc81c","previous-2":"\uadf8\uc800\uaed8",current:"\uc624\ub298",next:"\ub0b4\uc77c","next-2":"\ubaa8\ub808",past:"{0}\uc77c \uc804",future:"{0}\uc77c \ud6c4"},hour:{current:"\ud604\uc7ac \uc2dc\uac04",past:"{0}\uc2dc\uac04 \uc804",future:"{0}\uc2dc\uac04 \ud6c4"},minute:{current:"\ud604\uc7ac \ubd84",past:"{0}\ubd84 \uc804",future:"{0}\ubd84 \ud6c4"},second:{current:"\uc9c0\uae08",past:"{0}\ucd08 \uc804",future:"{0}\ucd08 \ud6c4"}},tiny:{year:"{0}\ub144",quarter:"{0}\ubd84\uae30",month:"{0}\uac1c\uc6d4",week:"{0}\uc8fc",day:"{0}\uc77c",hour:"{0}\uc2dc\uac04",minute:"{0}\ubd84",second:"{0}\ucd08",now:"\uc9c0\uae08"},now:{now:{current:"\uc9c0\uae08",future:"\ubc29\uae08 \uc804",past:"\ubc29\uae08 \uc804"}},mini:{year:"{0}\ub144",quarter:"{0}\ubd84\uae30",month:"{0}\uac1c\uc6d4",week:"{0}\uc8fc",day:"{0}\uc77c",hour:"{0}\uc2dc\uac04",minute:"{0}\ubd84",second:"{0}\ucd08",now:"\uc9c0\uae08"}};dt.Z.addDefaultLocale(ft);var pt=function(e){var t=e.data,n=e.removeMsg,i=e.reportMsg,r=t.epid,o=t.isNotice,a=t.isMe,s=t.type,l=t.name,c=t.timestamp,u=t.message,d=t.scheduleStartTime,m=t.scheduleEndTime;return(0,Z.tZ)("div",{className:function(){var e="ui-chat__list-item";return o&&(e+=" is-noti"),a&&(e+=" is-me"),"SCHEDULE"===s&&(e+=" is-noti-schedule"),e}(),children:(0,Z.BX)("div",{className:"ui-chat__list-item-wrap",children:[(0,Z.BX)("div",{className:"ui-chat__list-item-info",children:[o&&(0,Z.BX)("span",{className:"noti",children:[(0,Z.tZ)("svg",{viewBox:"0 0 19 13",children:(0,Z.BX)("g",{children:[(0,Z.tZ)("polygon",{className:"st0",points:"18,0.7 17.2,0 15,2.3 15.8,3   "}),(0,Z.tZ)("rect",{x:"16",y:"6",className:"st1",width:"3",height:"1"}),(0,Z.tZ)("polygon",{className:"st0",points:"3.9,3 0,3 0,10 2,10 2,13 4,13 4,10 4,10 12,13 12,0   "}),(0,Z.tZ)("polygon",{className:"st0",points:"15,10.7 17.2,13 18,12.3 15.8,10   "})]})}),(0,Z.BX)("svg",{viewBox:"0 0 432.2 98.5",children:[(0,Z.tZ)("defs",{}),(0,Z.BX)("g",{children:[(0,Z.tZ)("rect",{x:"199.6",className:"st0",width:"32",height:"98.5"}),(0,Z.tZ)("path",{className:"st0",d:"M76.4,0H0v31.1h29.7l0,67.3h32.9V31.1h30.1l-10-26.7C81.8,1.8,79.2,0,76.4,0z"}),(0,Z.tZ)("path",{className:"st0",d:"M301.1,43.7L269.3,3.2c-1.6-2-4-3.2-6.5-3.2H243v97.6l0.1,0.8h30.9l0.8-0.1V54.8l31.8,40.5 c1.6,2,4,3.2,6.5,3.2h19.9V0h-31.8V43.7z"}),(0,Z.tZ)("path",{className:"st0",d:"M160.1,4.5l-17.2,47.9L125.8,4.5c-1-2.7-3.5-4.5-6.4-4.5H89l37.9,98.5h32L196.8,0h-30.3 C163.6,0,161,1.8,160.1,4.5z"}),(0,Z.tZ)("path",{className:"st0",d:"M395.4,69.9h-19V29.1h38.7c3.7,0,7-2.3,8.3-5.7L432.2,0h-87.9v98.4v0.1h86.9V42.3h-35.8V69.9z"})]})]})]}),!o&&(0,Z.tZ)("span",{className:"user",children:l}),(0,Z.tZ)("span",{className:"time",children:(0,Z.tZ)(mt.Z,{date:c,locale:"en-US"})}),a&&(0,Z.tZ)("button",{type:"button",className:"del",onClick:function(){n(r)}}),!a&&!o&&(0,Z.tZ)("button",{type:"button",className:"report",onClick:function(){i(r)}})]}),(0,Z.BX)("div",{className:"ui-chat__list-item-content",children:[(0,Z.tZ)("p",{children:u}),"SCHEDULE"===s&&(0,Z.BX)("div",{className:"ui-chat__list-item-content-noti",children:[d," ~ ",m]})]})]})})},ht=n(21878),vt=n(45880),gt=n(44924),yt=n(47121),bt=n(38416),wt=2,_t=3,Zt=4,xt=5,kt=1,Et=2,Ct=3,Pt=1,St=3,Ot=4,Tt=function(){function e(){(0,gt.Z)(this,e),this.cb=new Object,this.cb.connected=null,this.cb.rooms=[],this.cb.chat_received=null,this.cb.chat_message_deleted=null,this.cb.ext_message_received=null,this._msg_list=new Map,this._callback_timeout=5e3,this._is_connected=!1,this._reconnect_timer=null,this.uuid_id=""}return(0,yt.Z)(e,[{key:"connect",value:function(e,t){var n=this;this._address=e,this._port=t;var i=["https://",e,":",t,"/chat_server"].join(""),r=new XMLHttpRequest;r.open("GET",i,!0),r.send(),r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){var e=JSON.parse(r.responseText);if(0==e.length)return;n._url="wss://"+e[0].a+":"+e[0].p,n._socket=new WebSocket(n._url),n._socket.onopen=n.on_connect.bind(n),n._socket.onmessage=n.on_recv.bind(n),n._socket.onclose=n.on_disconnect.bind(n)}},this._reconnect_timer||(this._reconnect_timer=setInterval((function(){n._is_connected||(bt.debug("#talk","re connect"),n.connect(n._address,n._port))}),1e4))}},{key:"close",value:function(){bt.debug("#talk","ws: close"),clearInterval(this._reconnect_timer);try{this._socket.close()}catch(e){bt.debug(e)}}},{key:"set_on_connected",value:function(e){this.cb.connected=e}},{key:"set_on_chat_received",value:function(e){this.cb.chat_received=e}},{key:"set_on_chat_message_deleted",value:function(e){this.cb.chat_message_deleted=e}},{key:"set_on_ext_message_received",value:function(e){this.cb.ext_message_received=e}},{key:"on_connect",value:function(){this._is_connected=!0,this.cb.connected&&this.cb.connected()}},{key:"on_disconnect",value:function(){bt.debug("on_disconnect"),this._is_connected=!1}},{key:"on_recv",value:function(e){var t,n,i=JSON.parse(e.data),r=this._msg_list.get(i.u)||this._msg_list.get("cb");if(r)r(i),this._msg_list.delete(i.u),this._msg_list.delete("cb");else switch(i.o){case Zt:switch(i.so){case Pt:case St:this.cb.chat_received&&this.cb.chat_received(i),null===(t=this.cb.rooms)||void 0===t||t.map((function(e){var t;e.rn===i.p.rn&&(null===(t=e.eventChatReceived)||void 0===t||t.call(e,i))}));break;case Ot:this.cb.chat_message_deleted&&this.cb.chat_message_deleted(i.p),null===(n=this.cb.rooms)||void 0===n||n.map((function(e){var t;e.rn===i.p.rn&&(null===(t=e.eventChatDeleted)||void 0===t||t.call(e,i))}))}break;case xt:this.cb.ext_message_received&&this.cb.ext_message_received(i.p)}}},{key:"auth",value:function(e,t){var n=e.token,i=e.uuid,r=void 0===i?null:i,o=e.from,a=void 0===o?"tving":o;this.uuid_id="TVING-".concat(r);var s={o:wt,p:{t:n,f:a,d:navigator.userAgent},u:this.uuid};this._send_message(s,t)}},{key:"join_room",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.eventChatReceived,r=void 0===i?null:i,o=n.eventChatDeleted,a=void 0===o?null:o,s=n.eventChatExit,l=void 0===s?null:s,c={o:_t,so:kt,p:{rn:e},u:this.uuid};this.cb.rooms.push({rn:e,eventChatReceived:r,eventChatDeleted:a,eventChatExit:l}),this._send_message(c,t)}},{key:"leave_room",value:function(e,t){var n,i,r={o:_t,so:Et,p:{rn:e},u:this.uuid};null===(n=this.cb.rooms)||void 0===n||n.splice(null===(i=this.cb.rooms)||void 0===i?void 0:i.findIndex((function(t){return t.rn===e})),1),this._send_message(r,t)}},{key:"send_msg",value:function(e,t,n){var i={o:Zt,so:Pt,p:{rn:e,m:t},u:this.uuid};return this._send_message(i,n,!0),i.u}},{key:"get_chat_message_list",value:function(e,t){var n=e.room,i=e.time,r=void 0===i?null:i,o=e.total,a={o:_t,so:Ct,p:{rn:n,li:void 0===o?10:o},u:this.uuid};r&&(a.p.t=r),this._send_message(a,t)}},{key:"remove_chat_message",value:function(e,t){var n=e.room,i=e.epid,r={o:Zt,so:Ot,p:{rn:n,epid:void 0===i?null:i},u:this.uuid};this._send_message(r,t)}},{key:"_send_message",value:function(e,t,n){this._set_callback(t,e,n),this._socket.send(JSON.stringify(e))}},{key:"_set_callback",value:function(e,t,n){var i=this;e&&(this._msg_list.set(t.u,e),n&&this._msg_list.set("cb",e),setTimeout((function(){i._msg_list.get(t.u)&&i._msg_list.delete(t.u),i._msg_list.get("cb")&&i._msg_list.delete("cb")}),this._callback_timeout))}},{key:"connected",get:function(){return this._is_connected}},{key:"uuid",get:function(){for(var e={},t=[],n=0;n<256;n++)t[n]=(n<16?"0":"")+n.toString(16);return e.generate=function(){var e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+t[255&n]+t[n>>8&255]+t[n>>16&15|64]+t[n>>24&255]+t[63&i|128]+t[i>>8&255]+t[i>>16&255]+t[i>>24&255]+t[255&r]+t[r>>8&255]+t[r>>16&255]+t[r>>24&255]},this.uuid_id+"-"+e.generate()}}]),e}(),Nt=n(22311),At=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,g.Pc)(),n=(0,a.Z)(t,2),i=n[0],r=(n[1],(0,g.QE)()),o=(0,a.Z)(r,2),s=o[0],l=o[1],u=(0,c.useState)(),d=u[0],m=u[1],f=(0,vt.Z)("_tving_token"),p=(0,a.Z)(f,1),h=p[0],v=Nt.Ug,y=Nt.SM,b="443";(0,c.useEffect)((function(){s.isInitialize||l({socket:new Tt,isInitialize:!0})}),[]),(0,c.useEffect)((function(){s.isConnected&&m(s.isConnected)}),[s.isConnected]),(0,c.useEffect)((function(){if(e&&i.userNo&&s.socket&&!s.isConnect){l({isConnect:!0});var t=s.socket;t.connect(v,b);return t.set_on_connected((function(){t.auth({token:h,uuid:i.userNo,from:Nt.zl},(function(e){e.r&&(e.p.uid,l({isConnect:!0,isConnected:!0}))}))})),function(){t.close()}}}),[e,s,i]);var w=function(e){var t=e.roomName,n=void 0===t?"":t,i=e.messageReceived,r=void 0===i?null:i,o=e.messageDeleted,a=void 0===o?null:o;if(n){n=y+n;var l=s.socket;return new Promise((function(e,t){l.join_room(n,(function(t){l.get_chat_message_list({room:n,total:30},(function(t){var n;e(null===t||void 0===t||null===(n=t.p)||void 0===n?void 0:n.l)}))}),{eventChatReceived:r,eventChatDeleted:a})}))}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){e=y+e;var t=s.socket;t.leave_room(e,(function(e){}))}},Z=function(e){var t=e.roomName,n=void 0===t?"":t,i=e.msg,r=void 0===i?"":i;if(!n)return null;n=y+n;var o=s.socket;return new Promise((function(e,t){o.send_msg(n,r,(function(t){var n,i,r=(null===(n=t.p)||void 0===n?void 0:n.bad)||!1,o=(null===(i=t.p)||void 0===i?void 0:i.bl)||!1;e({msg:t,isBadWord:r,isBlackList:o})}))}))},x=function(e){var t=e.roomName,n=void 0===t?"":t,i=e.epid,r=void 0===i?"":i;n&&(n=y+n,s.socket.remove_chat_message({room:n,epid:r},(function(e){})))},k=function(e){var t=e.roomName,n=void 0===t?"":t,i=(e.epid,e.time),r=void 0===i?"":i;if(!n)return null;var o=s.socket;return new Promise((function(e,t){o.get_chat_message_list({room:y+n,time:r,total:30},(function(t){var n;e(null===t||void 0===t||null===(n=t.p)||void 0===n?void 0:n.l)}))}))};return{socket:s.socket,isConnected:d,joinRoom:w,leaveRoom:_,sendMsg:Z,removeMsg:x,loadPrevMsg:k}},Mt=n(33510),jt=n(90199),Lt=n(27438);function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt=100,Rt=function(e,t){var n=(new Date).getTime();return e=(e=e.map((function(e){var n=e.p,i=n.pid,r=n.epid,o=n.f,a=n.t,s=e.so,l=e.p.m,c=l.payload,u=(c=void 0===c?{}:c).body,d=(u=void 0===u?{}:u).subTitle,m=void 0===d?null:d,f=u.contents,h=(f=void 0===f?{}:f).message,v=c.type;h&&(l=h);var g={isNotice:3===s,isMe:i===t,timestamp:1e3*a,name:o,message:l,type:void 0===v?null:v,epid:r,profileNo:t};if(m){var y=m.split("~"),b=p()("".concat(y[0]),"YYYYMMDDhhmmss").format("HH:mm"),w=p()("".concat(y[1]),"YYYYMMDDhhmmss").format("HH:mm");g=zt(zt({},g),{},{scheduleStartTime:b,scheduleEndTime:w})}return g}))).filter((function(e){return e.timestamp-n/1e3>-18e3}))},Ht=function(e){var t=(new Date).getTime();return e.filter((function(e){return(e.timestamp-t)/1e3>-18e3}))},Xt=function(e){for(var t=+new Date,n=JSON.parse(ht.t.get("talk_reported","{}")),i=0,r=Object.entries(n);i<r.length;i++){var o=(0,a.Z)(r[i],2),s=o[0],l=o[1];Number(l)<t&&delete n[s]}return ht.t.set("talk_reported",JSON.stringify(n)),e.filter((function(e){var i=n["".concat(e.profileNo,"-").concat(e.epid)];return!(i&&i>t)}))},It=function(e){return e.splice(0,e.length-30),Xt(Ht(e))},Yt=(0,y.Z)("div",{target:"e1b1lra70"})({name:"4qwvko",styles:"position:absolute;bottom:10rem;width:100%"}),Vt=function(e){var t=e.onMouseEnter,n=e.onMouseLeave,i=(0,c.useRef)(),o=(0,c.useRef)(),s=(0,g.Pc)(),u=(0,a.Z)(s,1)[0],d=(0,g.db)(),m=(0,a.Z)(d,1)[0].mediaCode,f=(0,c.useState)([]),p=f[0],h=f[1],v=(0,c.useState)([]),y=v[0],b=v[1],w=(0,c.useState)(!1),_=w[0],x=w[1],k=(0,c.useState)(!1),E=k[0],C=k[1],P=(0,c.useState)(!0),S=P[0],O=P[1],T=At(!0),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,c.useState)(e),n=t[0],i=t[1],r=function(e){e.target.value.length>Bt||i(e.target.value)};return{value:n,setValue:i,onChange:r}}(),A=function(){var e=(0,r.Z)(l().mark((function e(){var t,n,i,r,o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=N.value,n=N.setValue,T.isConnected){e.next=4;break}return ue.Z.alert({text:"\uc11c\ube44\uc2a4\uac00 \uc6d0\ud65c\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \n\ub2e4\uc74c\uc5d0 \ub2e4\uc2dc \uc774\uc6a9\ud574\uc8fc\uc138\uc694"}),e.abrupt("return");case 4:if(t&&!(t.length<=1)){e.next=7;break}return ue.Z.alert({text:"\ucc44\ud305\uc740 2\uae00\uc790 \uc774\uc0c1\uc2dc\uc5d0\ub9cc \ub4f1\ub85d\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4."}),e.abrupt("return");case 7:return e.next=9,T.sendMsg({roomName:m,msg:t});case 9:i=e.sent,r=i.msg,o=i.isBadWord,a=i.isBlackList,o?ue.Z.alert({text:"\uae08\uce59\uc5b4\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \n\ub2e4\uc2dc \uc791\uc131\ud574\uc8fc\uc138\uc694."}):a?ue.Z.alert({text:"\uace0\uac1d\ub2d8\uc740 \ud2f0\ube59\ud1a1\uc758 \ubd80\uc801\uc808\ud55c \uc0ac\uc6a9\uc73c\ub85c \uc785\ub825\uc774 \uc81c\ud55c\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \n\uace0\uac1d\uc13c\ud130\ub85c \uc5f0\ub77d\ud574\uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4."}):(n(""),j(r));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(e){T.removeMsg({roomName:m,epid:e})},j=function(e){b((function(t){return[].concat((0,ct.Z)(t),(0,ct.Z)(Rt([e],u.profileNo)))}))},L=function(){var e=(0,r.Z)(l().mark((function e(t){var n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.Z.dialog({title:"\ud574\ub2f9 \ucc44\ud305 \ub0b4\uc6a9\uc744 \uc2e0\uace0\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"});case 2:if(e.sent.isConfirmed){e.next=5;break}return e.abrupt("return");case 5:n=+new Date+6e4,(i=JSON.parse(ht.t.get("talk_reported","{}")))["".concat(u.profileNo,"-").concat(t)]=n,ht.t.set("talk_reported",JSON.stringify(i)),h((function(e){return It((0,ct.Z)(e))})),ue.Z.alert({text:"\uc2e0\uace0 \uc644\ub8cc \ubc0f \ube14\ub77c\uc778\ub4dc \ucc98\ub9ac \ub418\uc5c8\uc2b5\ub2c8\ub2e4."});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){x(!1),h((function(e){return It([].concat((0,ct.Z)(e),(0,ct.Z)(y)))})),b([]),C(!1)};(0,c.useEffect)((function(){_||0!==y.length&&D()}),[y,_]),(0,c.useEffect)((function(){return T.isConnected?(function(){var e=(0,r.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.joinRoom({roomName:m,messageReceived:function(e){j(e)},messageDeleted:function(e){h((function(t){return(0,ct.Z)(t).filter((function(t){var n;return t.epid!==(null===e||void 0===e||null===(n=e.p)||void 0===n?void 0:n.epid)}))}))}});case 2:t=e.sent,Array.isArray(t)&&h(It((0,ct.Z)(Rt(t,u.profileNo)).reverse())),O(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){T.leaveRoom(m)}):null}),[T.isConnected]);var z=function(){if(!_){var e=(o.current||{}).contentWrapperEl;e&&(e.scrollTop=e.scrollHeight)}};(0,c.useEffect)((function(){if(E){var e=(o.current||{}).contentWrapperEl;(function(){var t=(0,r.Z)(l().mark((function t(){var n,i,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.loadPrevMsg({roomName:m,time:p[0].timestamp/1e3});case 2:n=t.sent,i=e.scrollHeight,r=Ht((0,ct.Z)(Rt(n,u.profileNo).reverse())),h((function(e){return Xt([].concat((0,ct.Z)(r),(0,ct.Z)(e)))})),30===r.length&&C(!1),e.scrollTop=e.scrollHeight-i;case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}}),[E,o]),(0,c.useEffect)((function(){z()}),[p]),(0,jt.Z)((0,Mt.Z)((function(e){z()}))),(0,c.useEffect)((function(){var e=(o.current||{}).contentWrapperEl;if(!e)return null;x(!1);var t=function(t){var n=Math.ceil(e.scrollTop+e.offsetHeight);n<e.offsetHeight+100&&!E&&C(!0),n>=e.scrollHeight-e.offsetHeight/2?x(!1):x(!0)};return e.addEventListener("scroll",t),function(){x(!1),e.removeEventListener("scroll",t)}}),[o]);return(0,Z.tZ)("div",{className:"cjp__ui-chat-wrap cjp__ui-hover-hide-block",ref:i,onMouseEnter:t,onMouseLeave:n,children:(0,Z.BX)("div",{className:"cjp__ui-chat",children:[(0,Z.tZ)(ut.Z,{ref:o,style:{height:"calc(100% - 11rem)",top:"0rem"},children:(0,Z.tZ)("div",{className:"ui-chat__list",children:p.map((function(e,t){return(0,Z.tZ)(pt,{data:e,removeMsg:M,reportMsg:L},"chat-item-".concat(t))}))})}),(0,Z.BX)("div",{className:"ui-chat__write",children:[(0,Z.BX)("button",{type:"button",className:function(){var e="new-msg";return _&&y.length>0&&(e+=" is-active"),e}(),onClick:function(){D()},children:["\uc0c8 \uba54\uc138\uc9c0 ",y.length]}),(0,Z.tZ)("input",zt({type:"text",placeholder:"\ud2f0\ube59\ud1a1\uc5d0 \ucc38\uc5ec\ud574 \ubcf4\uc138\uc694 :)",onKeyPress:function(e){return"Enter"===e.key?A():""}},N)),(0,Z.tZ)(Yt,{children:(0,Z.tZ)(Lt.Z,{isLoading:S})}),(0,Z.tZ)("button",{type:"button",onClick:A,children:"\uc785\ub825"})]})]})})},Wt=n(95143),qt=n(23224);var Ft,Kt,Ut=function(e){var t=e.mediaCode,n=e.programCode,i=e.mediaType,r=(0,c.useState)(0),o=r[0],s=r[1],l=(0,g.Pc)(),u=((0,a.Z)(l,1)[0]||{}).userNo;return(0,Z.BX)(Z.HY,{children:[(0,Z.BX)(Qt,{children:[(0,Z.BX)("a",{href:"javascript:void(0);",className:0===o?"is-active":"",onClick:function(){return s(0)},children:["live"===i&&"\uc778\uae30 TV\ucc44\ub110","program"===i&&"\uc774 \ucf58\ud150\uce20 \uc5b4\ub5a0\uc138\uc694?","movie"===i&&"\uc774 \ucf58\ud150\uce20 \uc5b4\ub5a0\uc138\uc694?"]}),"live"!==i&&(0,Z.BX)("a",{href:"javascript:void(0);",className:1===o?"is-active":"",onClick:function(){return s(1)},children:["program"===i&&"\uc778\uae30 TV\ud504\ub85c\uadf8\ub7a8","movie"===i&&"\uc778\uae30 \uc601\ud654"]})]}),"live"===i&&(0,Z.tZ)(Z.HY,{children:0===o&&(0,Z.tZ)(Wt.PF,{isDetailLink:!1})}),"program"===i&&(0,Z.BX)(Z.HY,{children:[0===o&&(0,Z.tZ)(Wt.BO,{mediaCode:n,userNo:u}),1===o&&(0,Z.tZ)(Wt.mg,{isDetailLink:!1})]}),"movie"===i&&(0,Z.BX)(Z.HY,{children:[0===o&&(0,Z.tZ)(Wt.y1,{mediaCode:t,userNo:u}),1===o&&(0,Z.tZ)(Wt.U9,{isDetailLink:!1})]})]})},Qt=(0,y.Z)("div",{target:"e5yz48p2"})({name:"105oupu",styles:"display:flex;margin:0 -2rem;padding:0 0 1.5rem;>a{position:relative;padding:0 2rem;font-size:1.5rem;opacity:0.5;&.is-active{font-weight:700;opacity:1;}&:first-of-type:before{content:none;}&:before{content:'';position:absolute;left:0;width:0.083rem;height:100%;background-color:rgba(255, 255, 255, 0.3);}}"}),Jt=(0,y.Z)("div",{target:"e5yz48p1"})({name:"um08ws",styles:"position:absolute;bottom:8rem;width:100%;&:before{content:'';position:absolute;top:-100px;left:-35px;right:-35px;height:1000px;pointer-events:none;user-select:none;opacity:0.8;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAPoCAYAAADnVm+pAAADDklEQVR4Xu3bUWSWYRjG8W9KliyZMmU2mZJNykxJM81MSUlJlmmmSZYsaSbNbKbMLFlSMs2UlMwmZcqkmU1KpmSTktmkzCZTsplmyyZi27fnf7iD/45/dvB43+u+3vvZYiKRSEwE/MygZcDN/rblFK6gMJbClRSuojCOwtUUrqEwnsK1FK6jMIHC9RRuoDCRwiQKkyncSGEKhZso3EzhFgpTKUyjcCuF2yjcTmE6hRkU7qBwJ4W7KNxNYSaFWRTuoTCbwhwKcyncS+E+CvdTeIDCgxQeovAwhUcoPErhMQrzKDxOYT6FJygsoLCQwpMUFlF4isLTFBZTeIbCsxSWUHiOwvMUXqCwlMIyCi9SeInCcgorKKyksIrCagovU3iFwhoKaymso/AqhdcorKfwOoU3KLxJ4S0Kb1PYQOEdChspbKLwLoX3KLxP4QMKH1L4iMJmClsobKXwMYVPKHxKYRuFzyh8TmE7hS8ofElhB4WdFHZR2E3hKwpfU/iGwrcU9lD4jsL3FH6gsJfCPgo/UviJws8UfqGwn8IBCgcp/ErhNwq/UzhE4TCFIxT+oHCUwp8U/qLwN4VjFI5TOEHhHwonKZyicFoY7QRmrjQ8nqjPh8ez6Kvj8Xg8807Ah8KHwodi9gR8FXwVfBV8FcLfHyaFSWFSmBQmxcInYD6aj+aj+Wg+mo//T8Cp4FRwKjgVnApOBaeCN7mL5IBVwapgVbAqWBWsClYFq4JVYc4JWJAsSBYkC5IFyYJkQbIgWZAsSP4Ja2ga2pptzbZmW3MoJ/xfgMAJGaQGqUFqkBqkrh9cP7h+cP3g+sH1Q2ga2pptzbZmW3MoJ1w/uH5Y4AQcH44Px4fjw/Hh0sWli0sXly4uXVy6hKahrdnWbGu2NYdywqWLSxeXLv9OwKHp0HRoOjQdmq6aXDW5anLV5KrJVVNoGtqabc22ZltzKCdcNblqctXkqimcEyaFSWFSmBQmRbQT8JvLby6/ufzmCiekSWFSmBQmhUnhnaZ3mt5peqfpnaZ3mqFpaGu2NS+l1vwXryadeaXn33MAAAAASUVORK5CYII=') 0 0px;}>section{position:relative;h2.lists__title{display:none;}}.page_detail_movie{margin-bottom:0;min-height:0;}.page_detail_movie .page_container{border-top:0;}"}),Gt=(0,y.Z)("button",{target:"e5yz48p0"})("position:absolute;transform:translateY(-100%);",(0,w.mq)({right:qt.D.containerSidePadding})," width:3rem;height:3rem;svg{width:100%;height:100%;}"),$t=function(e){var t=e.streamData,n=void 0===t?{}:t,i=e.setIsMoreContent,r=e.isShowEpisodeList,o=e.isShowRecommendList,a=e.setIsShowEpisodeList,s=e.setIsShowRecommendList,l=e.isAnotherPage,c=n.mediaCode,u=n.programCode,d=n.frequency,m=n.mediaType,f=n.seasonPgmCode,p=n.title;return l?null:(0,Z.BX)(Jt,{children:[(0,Z.tZ)(Gt,{children:(0,Z.tZ)(He.Z,{viewBox:"0 0 40 40",onClick:function(){i(!1),a(!1),s(!1)}})}),o&&(0,Z.tZ)("section",{className:"page_detail_movie wrap_margin",children:(0,Z.tZ)(Ut,{mediaCode:c,mediaType:m,programCode:u})}),r&&(0,Z.tZ)("section",{className:"page_detail_movie wrap_margin",children:(0,Z.tZ)("article",{className:"page_container contents_row_wrap slide_movie",children:(0,Z.tZ)(Wt.eY,{mediaCode:c,seasonPgmCode:f,programCode:u,frequency:d,episodeSort:"new",contentName:p})})})]})},en=n(78761);function tn(){return(tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var nn=function(e){return c.createElement("svg",tn({xmlns:"http://www.w3.org/2000/svg",width:46,height:46,viewBox:"0 0 46 46"},e),Ft||(Ft=c.createElement("defs",null,c.createElement("style",null,".player-arrow-prev_svg__cls-2{fill:none;stroke:#fff;stroke-linecap:square;stroke-width:3px}"))),Kt||(Kt=c.createElement("g",{id:"player-arrow-prev_svg___","data-name":"<",transform:"translate(0 -143.001)"},c.createElement("path",{id:"player-arrow-prev_svg__\\uC0AC\\uAC01\\uD615_2613","data-name":"\\uC0AC\\uAC01\\uD615 2613",transform:"translate(0 143.001)",d:"M0 0h46v46H0z",fill:"none"}),c.createElement("g",{id:"player-arrow-prev_svg___2","data-name":"<",transform:"translate(17 153.501)"},c.createElement("path",{id:"player-arrow-prev_svg__\\uC120_108","data-name":"\\uC120 108",className:"player-arrow-prev_svg__cls-2",transform:"translate(0 .5)",d:"M12 0L0 12"}),c.createElement("path",{id:"player-arrow-prev_svg__\\uC120_109","data-name":"\\uC120 109",className:"player-arrow-prev_svg__cls-2",transform:"translate(0 12.5)",d:"M0 0l12 12"})))))},rn=n(97864),on=n(28445);var an=(0,y.Z)("div",{target:"e1rf52825"})({name:"rmfo68",styles:"position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;z-index:10;pointer-events:none"}),sn=(0,y.Z)("div",{target:"e1rf52824"})("display:",(function(e){return e.isPlayBlock,"block"}),";"),ln=(0,y.Z)("div",{target:"e1rf52823"})("position:absolute;top:0;left:0rem;right:0rem;transition:opacity 0.2s;opacity:",(function(e){return e.isControlHide?0:1}),";z-index:10;&:before{content:'';position:absolute;top:0;left:0;width:100%;height:10rem;opacity:0.75;background-image:linear-gradient(to top, rgba(0, 0, 0, 0), #000);pointer-events:none;}div{position:absolute;top:2.167rem;left:2rem;right:2rem;display:flex;align-items:center;}span{position:relative;padding:0 1rem;white-space:nowrap;font-size:2.833rem;line-height:1.47;font-weight:700;word-wrap:break-word;overflow:hidden;text-overflow:ellipsis;}",(function(e){return e.isAnotherPage?(0,on.iv)("div{top:1.333rem;}",un," svg{display:none;}span{padding:0;font-size:1.5rem;width:calc(100% - 3rem);}",""):(0,on.iv)("","")}),";"),cn=(0,y.Z)("button",{target:"e1rf52822"})({name:"2eg7hh",styles:"position:absolute;right:0;svg{}"}),un=(0,y.Z)("button",{target:"e1rf52821"})({name:"1yz9o5",styles:"position:relative;.mode-keyboard-focus &:focus{box-shadow:0 0 0 3px rgba(#ff1f45, 0.3);}svg{width:3.833rem;height:3.833rem;}"}),dn={name:"17lr795",styles:"*{cursor:none;}"},mn=(0,y.Z)("div",{target:"e1rf52820"})("position:absolute;top:0;left:0;width:100%;height:100%;overflow:-moz-scrollbars-none;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;#test{opacity:",(function(e){return e.ended?0:1}),";position:absolute;width:100%;height:100%;display:flex;align-items:center;>div{pointer-events:none;-moz-user-focus:none;-webkit-user-focus:none;}.player-wrap{position:absolute;width:100%;pointer-events:visible;-moz-user-focus:auto;-webkit-user-focus:auto;>div>div{position:absolute;width:100%;height:100%;>div{position:absolute;width:100%;height:100%;}}}.content{display:none;}}",(function(e){return e.isControlHide&&dn}),";");function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hn=function(e){var t=(0,h.useRouter)(),n=(0,g.db)(),i=(0,a.Z)(n,2),r=i[0],o=i[1],s=(r||{}).mediaCode,l=((0,g.Eg)({mediaCode:s}).data||{}).isShouldBuy,u=e.errorCode,d=e.stats,m=e.setStats,f=e.isLive,p=e.isAnotherPage,v=e.message,y=void 0===v?"":v,b=e.subMessage,w=void 0===b?"":b,_=e.descMessage,x=void 0===_?"":_,k=e.btnMessage,E=void 0===k?"\uc0c8\ub85c\uace0\uce68":k,C=(0,c.useState)(!1),P=C[0],S=C[1],O=!1;if(!d.isPlayBlock)return null;switch(u){case"001":E="FAQ";break;case"100":case"150":E="\uad6c\ub9e4\ud558\uae30";break;case"050":f()?(y="\uc774\uc6a9\uad8c \uad6c\ub3c5 \ud6c4 \uc2dc\uccad\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",E="\uad6c\ub3c5\ud558\uae30"):(l&&(y="\ucf58\ud150\uce20 \uad6c\ub9e4 \ud6c4 \uc2dc\uccad\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),E="\uad6c\ub9e4\ud558\uae30");break;case"060":E="\uae30\uae30 \ub4f1\ub85d\ud558\uae30";break;case"091":O=!0,x="".concat(w.split("|").join("\n")),w="".concat(y),y="\ub3d9\uc2dc\uc7ac\uc0dd \uac00\ub2a5 \uae30\uae30 \uc218\ub97c \ucd08\uacfc\ud588\uc2b5\ub2c8\ub2e4.",E="\uc7ac\uc2dc\ub3c4"}return(0,Z.BX)(an,{children:["060"===u&&(0,Z.tZ)(rn.Z,{modalIsOpen:P,setModalIsOpen:S,closeModalFn:function(){m((function(e){return pn(pn({},e),{},{loading:!0,isPlayBlock:!1})})),o((function(e){return pn(pn({},e),{},{mediaCode:""})})),setTimeout((function(){o((function(e){return pn(pn({},e),{},{mediaCode:s})}))}),500)}}),(0,Z.tZ)(en.Z,{title:"".concat(y),desc:w,subdesc:x,btnStr:E,btnCallback:function(){switch(u){case"001":t.push("/help/faq/?categoryCode=FAQC0305");break;case"050":case"100":case"150":(0,de.Vq)({mediaCode:s});break;case"060":S(!0);break;case"091":m((function(e){return pn(pn({},e),{},{loading:!0,isPlayBlock:!1})})),o((function(e){return pn(pn({},e),{},{mediaCode:""})})),setTimeout((function(){o((function(e){return pn(pn({},e),{},{mediaCode:s})}))}),500);break;default:window.location.reload()}},isSmall:p,isSmallButtonHide:O})]})},vn=function(e){var t=e.isControlHide,n=e.isPlayBlock,i=e.setIsControlHide,r=e.children;e.stats;return(0,Z.tZ)(sn,{isControlHide:t,isPlayBlock:n,setIsControlHide:i,className:function(){var e="cjp__ui hover-ui-hide";return t||(e+=" hover"),e}(),children:r})},gn=function(e){var t=e.isAnotherPage,n=(e.isLive,e.streamData),i=e.isControlHide,o=e.toggle,s=e.setMiniView,u=(0,h.useRouter)(),d=(0,c.useState)(null),m=d[0],f=d[1],p=(0,g.db)(),v=(0,a.Z)(p,2),y=v[0],b=v[1],w=(0,g.On)(),_=(0,a.Z)(w,2),x=_[0],k=_[1];(0,c.useEffect)((function(){var e=function(e){0!==String(e).indexOf("/player/")&&f(e)},t=function(){var t=(0,r.Z)(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return e(u.asPath),u.events.on("routeChangeStart",t),function(){u.events.off("routeChangeStart",t)}}),[]);var E=function(){return"live"===n.type||"tvingtv"===n.type||"tvinglive"===n.type};if(n.type&&(E()&&t||!E())){return(0,Z.tZ)(ln,{className:"cjp__ui-hover-hide-block",isControlHide:i,isAnotherPage:t,children:(0,Z.BX)("div",{children:[(0,Z.tZ)(un,{type:"button",onClick:function(){o(!1),u.push(m||"/")},children:(0,Z.tZ)(nn,{})}),(0,Z.BX)("span",{children:[n.title," ",n.subtitle]}),t&&(0,Z.tZ)(cn,{onClick:function(){var e,t;null===(e=y.player)||void 0===e||e.close(),null===(t=y.player)||void 0===t||t.stop(),b(pn(pn({},y),{},{pathname:"",mediaCode:"",isPlaying:!1})),k(pn(pn({},x),{},{isPlayerPage:!1})),s(!1)},children:(0,Z.tZ)(He.Z,{})})]})})}return null},yn=function(e){var t,n=(0,i.Z)({},e),r=n.isAnotherPage,o=n.isChromless,s=void 0!==o&&o,l=n.show,u=n.toggle,f=n.isFocus,y=n.isTabIn,b=n.setIsTabIn,w=n.setMiniView,_=(0,c.useRef)(null),x=(0,h.useRouter)(),k=(0,g.Pc)(),E=(0,a.Z)(k,1)[0],C=((E||{}).profileNo,(0,g.db)()),P=(0,a.Z)(C,2),S=P[0],O=P[1],T=(0,g.On)(),N=(0,a.Z)(T,2),A=N[0],M=N[1],j=(0,g.O2)(),L=(0,a.Z)(j,1)[0],z=(0,g.jJ)(),B=(0,a.Z)(z,2),R=B[0],H=B[1],X=L.isAutoNextEpisode,I=S.isPlayingTimeshift,Y=(A||{}).isWheelBlock,V=(0,g.gM)({mediaCode:S.mediaCode}),W=V.data,q=V.mutate,F=(0,c.useState)(!1),K=F[0],U=F[1],Q=(0,c.useState)(!1),J=Q[0],G=Q[1],$=(0,c.useState)(!1),ee=$[0],te=$[1],ne=(0,c.useState)({playing:!1,loading:!0,currentTime:0,duration:0,isVolumeChange:!1,viewDuration:(0,Te.M)(0)}),ie=ne[0],re=ne[1];!function(e){var t=(0,h.useRouter)().query,n=(0,g.db)(),i=(0,a.Z)(n,2),r=i[0],o=i[1],s=(0,g.gM)({mediaCode:r.mediaCode}).data||{},l=s.mediaType,u=s.programCode,d=s.movieCode,m=(0,g.Xf)({programCode:u||d});(0,c.useEffect)((function(){if("clip"!==l)return null;if("playlistAutoPlay"!==(t||{}).mode)return null;if(e.ended){var n=((null===m||void 0===m?void 0:m.data)||{}).items,i=null===n||void 0===n?void 0:n.findIndex((function(e){var t=e.code;return r.mediaCode===t}));i>-1&&n[i+1]&&o((function(e){return pn(pn({},e),{},{mediaCode:n[i+1].code})}))}return function(){}}),[e.ended])}(ie);var oe=(0,c.useState)(!1),ae=oe[0],se=oe[1],le=(0,c.useState)(!0),ce=le[0],ue=le[1],de=pn(pn({},{live:{}}),W),me=de.programCode,fe=de.frequency,pe=de.mediaType,he=de.isQvod,ve=de.live,ge=ve.broadcastStartTime,ye=ve.broadcastEndTime,be=(0,g.MZ)(me).data,we=be.items&&be.items.filter((function(e){return e.frequency===fe+1}))[0],_e=x||{},Ze=_e.pathname,xe=_e.query.slug;(0,c.useEffect)((function(){"/player/[slug]"===Ze&&xe&&O((function(e){return pn(pn({},e),{},{mediaCode:xe})}))}),[xe]);var ke=(S||{}).mediaCode;(0,c.useEffect)((function(){M((function(e){return pn(pn({},e),{},{mediaCode:ke,isPlaying:!!ke})}))}),[ke]);var Ee=(0,v.Z)("tving-player-volume-range"),Ce=(0,a.Z)(Ee,2),Pe=Ce[0],Se=Ce[1],Oe=(0,c.useState)(!1),Ne=Oe[0],Ae=Oe[1];(0,c.useEffect)((function(){var e,t;if(!S.player){var n=new(d())({target:"#test",apiType:"real"});e=n.load(),t=function(){O((function(t){return pn(pn({},t),{},{player:e,seekPrev:function(){Ae(!0),e.currentTime-=10},seekNext:function(){Ae(!0),e.currentTime+=10},ndvrToggle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Ae(!0),e.ndvrOn(10*Math.floor(Math.round(t)/10))},ndvrOff:function(){Ae(!0),e.ndvrOff()},volumeChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Se("".concat(t)),e.volume=t}})}))},e.once(e.Events.INSTANCE_INITIALIZED,t)}return function(){var n;null===(n=e)||void 0===n||n.removeListener(e.Events.INSTANCE_INITIALIZED,t)}}),[]),(0,c.useEffect)((function(){if(S.player)return S.player.on(S.player.Events.INSTANCE_INITIALIZE,(function(e){re((function(e){return pn(pn({},e),{},{playing:!1,loading:!0,isPlayBlock:!1,message:""})})),se(!1)})),function(){}}),[S.player]);var Me=(0,v.Z)("tving-player-stream-start-quality"),je=(0,a.Z)(Me,1)[0],Le=(0,v.Z)("tving-player-stream-start-playbackrate"),De=(0,a.Z)(Le,1)[0];(0,c.useEffect)((function(){if(!je)return null;var e=je.split("_"),t=(0,a.Z)(e,1)[0];try{if(!t)return null;O((function(e){return pn(pn({},e),{},{startStreamCode:t})}))}catch(n){}}),[]),(0,c.useEffect)((function(){if(!De)return null;var e=De.split("_"),t=(0,a.Z)(e,1)[0];try{if(isNan(Number(t)))return null;O((function(e){return pn(pn({},e),{},{playbackRate:Number(t)})}))}catch(n){}}),[]);var ze=function(){O((function(e){return pn(pn({},e),{},{pathname:"/player/".concat(S.mediaCode),isPlaying:!1,qualityList:[],isHideNextEpisode:!1,isPlayingTimeshift:!1})})),re((function(e){return pn(pn({},e),{},{loading:!0,isPlayBlock:!1,paused:!1,ended:!1,errorCode:"",message:"",subMessage:"",currentTime:0,duration:0,viewCurrentTime:(0,Te.M)(0),viewDuration:(0,Te.M)(0)})})),H((function(e){return pn(pn({},e),{},{isAdsPlaying:!1,offset:-1})})),te(!1),U(!1),G(!1),Ve(!1)};(0,c.useEffect)((function(){re((function(e){return pn(pn({},e),{},{loading:Ne})}))}),[Ne]),(0,c.useEffect)((function(){S.isQualityChanging&&(Ae(!0),se(!1))}),[S.isQualityChanging]),(0,c.useEffect)((function(){var e,t,n,i;if(S.mediaCode&&S.player){if(null!==W&&void 0!==W&&W.mediaCode){var r=function(e){se(!1),M((function(e){return pn(pn({},e),{},{isPlaying:!1})})),O((function(e){return pn(pn({},e),{},{pathname:""})})),re((function(t){return pn(pn({},t),{},{isPlayBlock:!0,loading:!1,playing:!1,paused:!1,ended:!1,errorCode:e.resultCode,message:e.resultMessage,subMessage:e.resultSubMessage})}))},o=function(e){var t=(e||{}).isDrmError;se(!1),M((function(e){return pn(pn({},e),{},{isPlaying:!1})})),O((function(e){return pn(pn({},e),{},{pathname:""})})),re((function(e){return pn(pn({},e),{},{isPlayBlock:!0,loading:!1,playing:!1,paused:!1,ended:!1,errorCode:"999",message:"\uc7ac\uc0dd\uc774 \uc6d0\ud65c\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \n\uc0c8\ub85c\uace0\uce68 \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",descMessage:'* \uc624\ub958\ubb38\uad6c\uac00 \uacc4\uc18d \ub728\ub294 \uacbd\uc6b0 <a href="/help/faq/?categoryCode=FAQC0305" style="color: #a3a3a3;">FAQ \ud655\uc778\ud558\uae30</a>',subMessage:t?"\ubcf4\ud638\ub41c \ucee8\ud150\uce20\ub97c \uc7ac\uc0dd\ud560 \uc218 \uc788\ub294 \ud658\uacbd\uc774 \uc544\ub2d9\ub2c8\ub2e4.":""})}))},s=function(){M((function(e){return pn(pn({},e),{},{isPlaying:!0})}))},l=function(e){var t,n=null===(t=S.player.player)||void 0===t?void 0:t.mediaElement;if(ie.playing||0!==(null===n||void 0===n?void 0:n.currentTime)){re((function(e){if(e.isQualityChanging)return pn({},e);var t=(null===n||void 0===n?void 0:n.duration)||0;return t===1/0&&(t=null===n||void 0===n?void 0:n.seekable.end(0)),pn(pn({},e),{},{currentTime:(null===n||void 0===n?void 0:n.currentTime)||0,duration:t})}));var i=(null===n||void 0===n?void 0:n.duration)||0;if(Be())re((function(e){var t,n;return pn(pn({},e),{},{viewCurrentTime:p()("".concat(null===(t=W.live)||void 0===t?void 0:t.broadcastStartTime),"YYYYMMDDHHmmss").format("HH:mm"),viewDuration:p()("".concat(null===(n=W.live)||void 0===n?void 0:n.broadcastEndTime),"YYYYMMDDHHmmss").format("HH:mm")})}));else{var r=S.player.streamInfo,o=r.isQvod,a=r.duration;o&&(i===1/0&&(i=null===n||void 0===n?void 0:n.seekable.end(0)),i=Math.max(i,a)),re((function(e){return e.isQualityChanging?pn({},e):pn(pn({},e),{},{viewCurrentTime:(0,Te.M)((null===n||void 0===n?void 0:n.currentTime)||0),viewDuration:(0,Te.M)(i)})}))}}},c=function(){re((function(e){return pn(pn({},e),{},{playing:!1,loading:!0,paused:!1,ended:!1})})),ie.ended&&"clip"!==pe&&(te(!1),U(!1),G(!0))},u=function(){re((function(e){return pn(pn({},e),{},{playing:!0,paused:!1,loading:!1,ended:!1,isQualityChanging:!1})})),O((function(e){return pn(pn({},e),{},{isPlaying:!0})})),Ae(!1),se(!1)},d=function(){re((function(e){return pn(pn({},e),{},{playing:!1,loading:!1,paused:!0,ended:!1})}))},f=function(){var e;null===(e=S.player.player)||void 0===e||e.mediaElement;re((function(e){return pn(pn({},e),{},{loading:!0})}))},h=function(){re((function(e){return pn(pn({},e),{},{loading:!1})}))},v=function(){M((function(e){return pn(pn({},e),{},{isPlaying:!1})})),re((function(e){return pn(pn({},e),{},{playing:!1,loading:!1,paused:!1,ended:!0,currentTime:0,duration:0,viewCurrentTime:(0,Te.M)(0),viewDuration:(0,Te.M)(0)})})),se(!1),O((function(e){return pn(pn({},e),{},{isPlaying:!1})}))},y=function(){re((function(e){return pn(pn({},e),{},{volume:S.player.volume,muted:S.player.muted})}))},b=function(){re((function(e){return pn(pn({},e),{},{volume:S.player.volume,muted:S.player.muted})}))},w=function(e){q((function(t){return pn(pn({},t),(0,g.m)(e.rawData,S.mediaCode))}),!1)},Z=function(e){H((function(t){return pn(pn({},t),{},{adLink:e})}))},x=function(e){H((function(e){return pn(pn({},e),{},{adLink:null})}))},k=function(e){},C=function(e){H((function(e){return pn(pn({},e),{},{isAdsPlaying:!0})}))},P=function(e){H((function(e){return pn(pn({},e),{},{isAdsPlaying:!1,offset:-1})}))},T=function(e){e.isLiveAdsPlaying||(re((function(e){return pn(pn({},e),{},{playing:!0,paused:!1,loading:!1,ended:!1})})),O((function(e){return pn(pn({},e),{},{isPlaying:!0})})),se(!1))},N=function(e){var t=e.currentTime,n=e.duration;e.isLiveAdsPlaying||re((function(e){return pn(pn({},e),{},{currentTime:t||0,duration:n||0,viewCurrentTime:(0,Te.M)(t||0),viewDuration:(0,Te.M)(n||0)})}))},A=function(e){var t=e.adsIdx,n=e.adsTotal;H((function(e){return pn(pn({},e),{},{offset:-1,adsIdx:t,adsTotal:n})}))},j=function(e){var t=e.offset,n=e.skip;H((function(e){return pn(pn({},e),{},{offset:t,skipFn:function(){n()}})}))};if(S.player.on(m.zW.BLOCK_BEFORE_PLAY,r),S.player.on(m.zW.STATE_ERROR,o),S.player.on(m.zW.PLAYER_STATE_ERROR,o),S.player.on(m.zW.PLAYER_STATE_TIMEUPDATE,l),S.player.on(m.zW.PLAYER_STATE_LOADSTART,s),S.player.on(m.zW.PLAYER_STATE_LOADEDMETADATA,y),S.player.on(m.zW.PLAYER_STATE_PLAY,c),S.player.on(m.zW.PLAYER_STATE_PLAYING,u),S.player.on(m.zW.PLAYER_STATE_PAUSE,d),S.player.on(m.zW.PLAYER_STATE_SEEKING,f),S.player.on(m.zW.PLAYER_STATE_SEEKED,h),S.player.on(m.zW.PLAYER_STATE_ENDED,v),S.player.on(m.zW.PLAYER_STATE_VOLUMECHANGE,b),S.player.on(m.zW.STATE_STREAMINFO_UPDATED,w),S.player.on(m.zW.AD_LINK_START,Z),S.player.on(m.zW.AD_LINK_END,x),S.player.on(m.zW.AD_STARTED,k),S.player.on(m.zW.AD_PLAYER_STARTED,C),S.player.on(m.zW.AD_ENDED,P),S.player.on(m.zW.ADPLAYER_STATE_PLAYING,T),S.player.on(m.zW.ADPLAYER_STATE_TIMEUPDATE,N),S.player.on(m.zW.AD_CREATIVE_UPDATED,A),S.player.on(m.zW.AD_POSSIBLE_SKIP,j),null===(e=S.player)||void 0===e||e.mediaChange({mediaCode:S.mediaCode,autoplay:!0,streamCode:S.startStreamCode,playbackRate:Be()||he?1:S.playbackRate||1,userInfo:{sex:E.sex,isPaid:E.isPayUser,isCjone:E.cjOneMember}}),Pe){var L=Pe.split("_"),D=(0,a.Z)(L,1)[0];isNaN(Number(D))||S.volumeChange(D)}return ze(),Be()&&re((function(e){var t,n;return pn(pn({},e),{},{viewCurrentTime:p()("".concat(null===(t=W.live)||void 0===t?void 0:t.broadcastStartTime),"YYYYMMDDHHmmss").format("HH:mm"),viewDuration:p()("".concat(null===(n=W.live)||void 0===n?void 0:n.broadcastEndTime),"YYYYMMDDHHmmss").format("HH:mm")})})),ue(!0),te(!1),U(!1),G(!1),null===(t=_.current)||void 0===t||null===(n=t.querySelector(".cjp__ui"))||void 0===n||null===(i=n.querySelectorAll("button")[0])||void 0===i||i.focus(),function(){S.player&&(S.player.removeListener(m.zW.BLOCK_BEFORE_PLAY,r),S.player.removeListener(m.zW.STATE_ERROR,o),S.player.removeListener(m.zW.PLAYER_STATE_ERROR,o),S.player.removeListener(m.zW.PLAYER_STATE_LOADSTART,s),S.player.removeListener(m.zW.PLAYER_STATE_LOADEDMETADATA,y),S.player.removeListener(m.zW.PLAYER_STATE_TIMEUPDATE,l),S.player.removeListener(m.zW.PLAYER_STATE_PLAY,c),S.player.removeListener(m.zW.PLAYER_STATE_PLAYING,u),S.player.removeListener(m.zW.PLAYER_STATE_PAUSE,d),S.player.removeListener(m.zW.PLAYER_STATE_SEEKING,f),S.player.removeListener(m.zW.PLAYER_STATE_SEEKED,h),S.player.removeListener(m.zW.PLAYER_STATE_ENDED,v),S.player.removeListener(m.zW.PLAYER_STATE_VOLUMECHANGE,b),S.player.removeListener(m.zW.STATE_STREAMINFO_UPDATED,w),S.player.removeListener(m.zW.AD_LINK_START,Z),S.player.removeListener(m.zW.AD_LINK_END,x),S.player.removeListener(m.zW.AD_STARTED,k),S.player.removeListener(m.zW.AD_PLAYER_STARTED,C),S.player.removeListener(m.zW.AD_ENDED,P),S.player.removeListener(m.zW.ADPLAYER_STATE_PLAYING,T),S.player.removeListener(m.zW.ADPLAYER_STATE_TIMEUPDATE,N),S.player.removeListener(m.zW.AD_CREATIVE_UPDATED,A),S.player.removeListener(m.zW.AD_POSSIBLE_SKIP,j),S.player.stop())}}ze()}}),[S.mediaCode,S.player,null===W||void 0===W?void 0:W.mediaCode]),(0,c.useEffect)((function(){Be()&&re((function(e){var t,n;return pn(pn({},e),{},{viewCurrentTime:p()("".concat(null===(t=W.live)||void 0===t?void 0:t.broadcastStartTime),"YYYYMMDDHHmmss").format("HH:mm"),viewDuration:p()("".concat(null===(n=W.live)||void 0===n?void 0:n.broadcastEndTime),"YYYYMMDDHHmmss").format("HH:mm")})}))}),[null===(t=W.live)||void 0===t?void 0:t.broadcastStartTime]),(0,c.useEffect)((function(){if(ie.ended){var e={};if(qe&&(e={isPlayBlock:!0,isPlaying:!1,errorCode:W.resultCode,message:"\uad6c\ub9e4\uac00 \ud544\uc694\ud55c \ucf58\ud150\uce20\uc785\ub2c8\ub2e4."},se(!1)),re((function(t){return pn(pn({},t),e)})),!qe){if("tvingtv"===W.type)return;if(X){var t=(we||{}).code;if(t)return void(r?O((function(e){return pn(pn({},e),{},{mediaCode:t})})):x.push("/player/".concat(t)))}r||"clip"===pe||(te(!0),U(!1),G(!0))}}}),[ie.ended,W.type]),(0,c.useEffect)((function(){if(!r)return null;ie.ended&&(ze(),O((function(e){return pn(pn({},e),{},{mediaCode:null})})))}),[r]);var Be=function(){return Fe?null:"live"===W.type||"tvingtv"===W.type||"tvinglive"===W.type},Re=(0,c.useState)(!1),He=Re[0],Xe=Re[1],Ie=(0,c.useState)(!1),Ye=Ie[0],Ve=Ie[1],We=function(){return!r&&E.isLogin&&Be()&&"tvingtv"!==W.type};(0,c.useEffect)((function(){if(!_||Y)return null;var e,t=function(t){var n,i;if(r||He)return null;if((e||(e=document.querySelector(".select__control")),e)&&(null!==(i=e.nextElementSibling)&&void 0!==i&&i.contains(t.target)))return null;null===(n=x.query.slug)||void 0===n||n.charAt(0);if(l){var o=null,a=t;return a.wheelDelta?o=a.wheelDelta/60:a.detail&&(o=-a.detail/2),null!==o&&(o>0?S.volumeChange(Number(S.player.volume+.1).toFixed(1)):S.volumeChange(Number(S.player.volume-.1).toFixed(1)),O((function(e){return pn(pn({},e),{},{isViewActionInfo:!0,isVolumeChange:!0,isSeekPrev:!1,isSeekNext:!1,isPlayToggle:!1})}))),t.preventDefault(),t.stopPropagation(),!1}return null};return _.current.addEventListener("mousewheel",t,!1),_.current.addEventListener("DOMMouseScroll",t,!1),function(){var e,n;null===(e=_.current)||void 0===e||e.removeEventListener("mousewheel",t,!1),null===(n=_.current)||void 0===n||n.removeEventListener("DOMMouseScroll",t,!1)}}),[_,l,He,S.player,Y]);var qe=W.isPreview,Fe=R.isAdsPlaying;(0,c.useEffect)((function(){var e=function(e){var t=qe,n=qe||Be();switch(e.keyCode){case 9:b(!0);break;case 32:case 37:case 39:case 38:case 40:case 77:case 70:case 27:if(function(e){return!ie.isPlayBlock&&!ie.ended&&"text"!==e.target.type&&"textarea"!==e.target.type&&"submit"!==e.target.type&&!!f}(e))if(f&&e.preventDefault(),32===e.keyCode){if(t)return;S.player.togglePlay(),O((function(e){return pn(pn({},e),{},{isViewActionInfo:!0,isVolumeChange:!1,isSeekPrev:!1,isSeekNext:!1,isPlayToggle:!0,isPlayPause:!ie.paused&&ie.playing})}))}else if(37===e.keyCode){if(n||t)return;S.seekPrev(),O((function(e){return pn(pn({},e),{},{isViewActionInfo:!0,isVolumeChange:!1,isSeekPrev:!0,isSeekNext:!1,isPlayToggle:!1})}))}else if(39===e.keyCode){if(n||t)return;S.seekNext(),O((function(e){return pn(pn({},e),{},{isViewActionInfo:!0,isVolumeChange:!1,isSeekPrev:!1,isSeekNext:!0,isPlayToggle:!1})}))}else if(38===e.keyCode)S.player.muted=!1,S.volumeChange(Number(S.player.volume+.1).toFixed(1)),O((function(e){return pn(pn({},e),{},{isViewActionInfo:!0,isVolumeChange:!0,isSeekPrev:!1,isSeekNext:!1,isPlayToggle:!1})}));else if(40===e.keyCode)S.player.muted=!1,S.volumeChange(Number(S.player.volume-.1).toFixed(1)),O((function(e){return pn(pn({},e),{},{isViewActionInfo:!0,isVolumeChange:!0,isSeekPrev:!1,isSeekNext:!1,isPlayToggle:!1})}));else if(77===e.keyCode)S.player.muted=!1,S.player.volume>0?(O((function(e){return pn(pn({},e),{},{prevVolume:S.player.volume})})),S.volumeChange(0)):S.volumeChange(S.prevVolume),O((function(e){return pn(pn({},e),{},{isViewActionInfo:!0,isVolumeChange:!0,isSeekPrev:!1,isSeekNext:!1,isPlayToggle:!1})}));else if(70===e.keyCode){if(t)return;u(!l)}else 27===e.keyCode&&r&&function(){var e,t;null===(e=S.player)||void 0===e||e.close(),null===(t=S.player)||void 0===t||t.stop(),O(pn(pn({},S),{},{pathname:"",mediaCode:"",isPlaying:!1})),M(pn(pn({},A),{},{isPlayerPage:!1})),w(!1)}()}};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[S,l,f,r,ie.playing,ie.pause,ie.ended,ie.isPlayBlock,qe]);var Ke=function(e){!ie.playing||!r&&ee||(ue(!0),se(e))},Ue=function(e){Ke(!1),ue(!e.target.closest(".cjp__ui-hover-hide-block"))};(0,c.useEffect)((function(){var e=setTimeout((function(){ce&&Ke(!0)}),3e3);return function(){return clearTimeout(e)}}),[ae,null===ie||void 0===ie?void 0:ie.playing,ce,ee,r]),(0,c.useEffect)((function(){f&&se(!1)}),[f]),(0,c.useEffect)((function(){ee||se(!1)}),[ee]);return(0,Z.tZ)(mn,{ended:ie.ended,onMouseEnter:function(e){Ue(e)},onMouseMove:function(e){Ue(e)},onMouseLeave:function(){return Ke(!0)},isControlHide:ae,children:(0,Z.tZ)("div",{className:"cjp-root pp",ref:_,children:(0,Z.BX)("div",{className:function(){var e=["cjp-wrap","new-ui","uihide"];return Be()&&!I&&e.push("live"),qe&&e.push("preview"),ie.playing&&e.push("playing"),Fe&&e.push("ca"),y&&e.push("mode-keyboard-focus"),e}().join(" "),children:[(0,Z.tZ)("div",{id:"test",tabIndex:-1}),(0,Z.tZ)(hn,{isAnotherPage:r,message:ie.message,subMessage:ie.subMessage,descMessage:ie.descMessage,errorCode:ie.errorCode,stats:ie,setStats:re,isLive:Be}),(0,Z.BX)(vn,{isPlayBlock:ie.isPlayBlock,isControlHide:ae,setIsControlHide:Ke,stats:ie,children:[!s&&ie.loading&&(0,Z.tZ)("div",{className:"cjp__ui-loading show",children:(0,Z.BX)("div",{className:"loading-2",children:[(0,Z.BX)("div",{className:"spinner",children:[(0,Z.tZ)("div",{className:"circle circle-1",children:(0,Z.tZ)("div",{className:"circle-inner"})}),(0,Z.tZ)("div",{className:"circle circle-2",children:(0,Z.tZ)("div",{className:"circle-inner"})})]}),(0,Z.tZ)("div",{})]})}),(0,Z.tZ)("div",{className:"cjp__ui-dimm",onClick:function(){Fe||qe||(S.player.togglePlay(),O((function(e){return pn(pn({},e),{},{isViewActionInfo:!0,isVolumeChange:!1,isSeekPrev:!1,isSeekNext:!1,isPlayToggle:!0,isPlayPause:!ie.paused&&ie.playing})})))}}),!s&&!ie.isPlayBlock&&(0,Z.tZ)(D,{isAnotherPage:r,isControlHide:ae,stats:ie,setStats:re,isLive:Be,isQvod:he,isTvingTalk:We,isActiveTalk:Ye,setIsActiveTalk:Ve,broadcastStartTime:ge,broadcastEndTime:ye,isMoreContent:ee,setIsMoreContent:te,isShowEpisodeList:K,setIsShowEpisodeList:U,isShowRecommendList:J,setIsShowRecommendList:G,toggle:u,isFullscreen:l,streamData:W,dataNextEpisode:we,actionReplay:function(){var e=(S||{}).mediaCode;re((function(e){return pn(pn({},e),{},{loading:!0,ended:!1})})),O((function(e){return pn(pn({},e),{},{mediaCode:""})})),setTimeout((function(){O((function(t){return pn(pn({},t),{},{mediaCode:e})}))}),0),te(!1)},actionHideControl:function(){ue(!0),se(!1)}}),!s&&(0,Z.tZ)(gn,{isAnotherPage:r,isLive:Be(),streamData:W,isControlHide:ae,toggle:u,setMiniView:w}),Ye&&We()&&(0,Z.tZ)(Vt,{onMouseEnter:function(){Xe(!0)},onMouseLeave:function(){Xe(!1)}})]}),ee&&(0,Z.tZ)($t,{isAnotherPage:r,streamData:W,setIsMoreContent:te,isShowEpisodeList:K,setIsShowEpisodeList:U,isShowRecommendList:J,setIsShowRecommendList:G})]})})})}}}]);